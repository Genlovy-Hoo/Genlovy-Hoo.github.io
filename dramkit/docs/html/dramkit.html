<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dramkit &mdash; DramKit 0.5.42 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="backpacks" href="dramkit.backpacks.html" />
    <link rel="prev" title="Welcome to DramKit’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            DramKit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">dramkit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.cryptotools">cryptotools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#expand">expand</a></li>
<li class="toctree-l3"><a class="reference internal" href="#en-aes-cbc">en_aes_cbc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#de-aes-cbc">de_aes_cbc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#en-aes-ecb">en_aes_ecb</a></li>
<li class="toctree-l3"><a class="reference internal" href="#de-aes-ecb">de_aes_ecb</a></li>
<li class="toctree-l3"><a class="reference internal" href="#en-base64">en_base64</a></li>
<li class="toctree-l3"><a class="reference internal" href="#de-base64">de_base64</a></li>
<li class="toctree-l3"><a class="reference internal" href="#en-base64-url">en_base64_url</a></li>
<li class="toctree-l3"><a class="reference internal" href="#de-base64-url">de_base64_url</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gen-random-token">gen_random_token</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gen-random-tokens">gen_random_tokens</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datetimetools">datetimetools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pd-str2datetime">pd_str2datetime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datetime2str">datetime2str</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dtseries2str">dtseries2str</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-datetime-strformat">get_datetime_strformat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#str2datetime">str2datetime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#str2timestamp">str2timestamp</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timestamp2str">timestamp2str</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-datetime-format">get_datetime_format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-format0">copy_format0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#x2datetime">x2datetime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-format">copy_format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-add">time_add</a></li>
<li class="toctree-l3"><a class="reference internal" href="#date-add-nday">date_add_nday</a></li>
<li class="toctree-l3"><a class="reference internal" href="#is-datetime">is_datetime</a></li>
<li class="toctree-l3"><a class="reference internal" href="#is-month-end">is_month_end</a></li>
<li class="toctree-l3"><a class="reference internal" href="#is-month-start">is_month_start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#is-quarter-end">is_quarter_end</a></li>
<li class="toctree-l3"><a class="reference internal" href="#is-quarter-start">is_quarter_start</a></li>
<li class="toctree-l3"><a class="reference internal" href="#datetime-now">datetime_now</a></li>
<li class="toctree-l3"><a class="reference internal" href="#today-month">today_month</a></li>
<li class="toctree-l3"><a class="reference internal" href="#today-date">today_date</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-quarter">get_quarter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-quarter-start-end-by-yq">get_quarter_start_end_by_yq</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-quarter-start-end-by-date">get_quarter_start_end_by_date</a></li>
<li class="toctree-l3"><a class="reference internal" href="#today-quarter">today_quarter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-2part-next">get_2part_next</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-pre-quarter">get_pre_quarter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-dayofweek">get_dayofweek</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-dayofyear">get_dayofyear</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-month-end">get_month_end</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-next-nmonth-start-end">get_next_nmonth_start_end</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-next-nquarter-start-end">get_next_nquarter_start_end</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-date-format">get_date_format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#date-reformat-simple">date_reformat_simple</a></li>
<li class="toctree-l3"><a class="reference internal" href="#date-reformat-chn">date_reformat_chn</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gen-strformat">gen_strformat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#date-reformat">date_reformat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#date8-to-date10">date8_to_date10</a></li>
<li class="toctree-l3"><a class="reference internal" href="#date10-to-date8">date10_to_date8</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diff-time-second">diff_time_second</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diff-days-date">diff_days_date</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-dates-between">get_dates_between</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-work-dates-chncal">get_work_dates_chncal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-recent-workday-chncal">get_recent_workday_chncal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-next-nth-workday-chncal">get_next_nth_workday_chncal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-date-weekday">get_date_weekday</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-recent-inweekday">get_recent_inweekday</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-next-nth-inweekday">get_next_nth_inweekday</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-date">cut_date</a></li>
<li class="toctree-l3"><a class="reference internal" href="#diff-workdays-date">diff_workdays_date</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.gentools">gentools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#timerecoder">TimeRecoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dirtmodifyerror">DirtModifyError</a></li>
<li class="toctree-l3"><a class="reference internal" href="#genobject">GenObject</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecatederror">DeprecatedError</a></li>
<li class="toctree-l3"><a class="reference internal" href="#structureobject">StructureObject</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-func-with-timeout-thread">run_func_with_timeout_thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="#with-timeout-thread">with_timeout_thread</a></li>
<li class="toctree-l3"><a class="reference internal" href="#try-repeat-run">try_repeat_run</a></li>
<li class="toctree-l3"><a class="reference internal" href="#capture-print">capture_print</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-used-time">log_used_time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#print-used-time">print_used_time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#func-res-process-decorator">func_res_process_decorator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#func-runtime-test">func_runtime_test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-list-arg">check_list_arg</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-update-kwargs">get_update_kwargs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roulette-base">roulette_base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roulette-stochastic-accept">roulette_stochastic_accept</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roulette-count">roulette_count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rand-sum">rand_sum</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rand-weight-sum">rand_weight_sum</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-repeat-iter">replace_repeat_iter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-repeat-pd">replace_repeat_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-repeat-func-iter">replace_repeat_func_iter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-repeat-func-pd">replace_repeat_func_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#con-count">con_count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#con-count-ignore">con_count_ignore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-preval-func-cond">get_preval_func_cond</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gap-count">gap_count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#count-between-gap">count_between_gap</a></li>
<li class="toctree-l3"><a class="reference internal" href="#count-between-gap-pd">count_between_gap_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#count-between-gap-iter">count_between_gap_iter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#val-gap-cond">val_gap_cond</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter-by-func-prenext">filter_by_func_prenext</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter-by-func-prenext-series">filter_by_func_prenext_series</a></li>
<li class="toctree-l3"><a class="reference internal" href="#df-na2value">df_na2value</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-df-structure">copy_df_structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-tmp-new">get_tmp_new</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-tmp-col">get_tmp_col</a></li>
<li class="toctree-l3"><a class="reference internal" href="#merge-df">merge_df</a></li>
<li class="toctree-l3"><a class="reference internal" href="#update-df">update_df</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dfs-concat-axis1">dfs_concat_axis1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-df-by-con-val">cut_df_by_con_val</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-con-start-end">get_con_start_end</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-range-to-subs">cut_range_to_subs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-to-subs">cut_to_subs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-l-allin-l0">check_l_allin_l0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-exist-data">check_exist_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#isnull">isnull</a></li>
<li class="toctree-l3"><a class="reference internal" href="#x-div-y">x_div_y</a></li>
<li class="toctree-l3"><a class="reference internal" href="#power">power</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log">log</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cal-pct">cal_pct</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pct-change">pct_change</a></li>
<li class="toctree-l3"><a class="reference internal" href="#s1divs2">s1divs2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#min-com-multer">min_com_multer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#max-com-divisor">max_com_divisor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mcd2-tad">mcd2_tad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#max-com-divisor-tad">max_com_divisor_tad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#df-rows2cols">df_rows2cols</a></li>
<li class="toctree-l3"><a class="reference internal" href="#df-cols2rows">df_cols2rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-full-df">get_full_df</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-full-components-df">get_full_components_df</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-first-appear">get_first_appear</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-appear-order">get_appear_order</a></li>
<li class="toctree-l3"><a class="reference internal" href="#label-rep-index-str">label_rep_index_str</a></li>
<li class="toctree-l3"><a class="reference internal" href="#drop-index-duplicates">drop_index_duplicates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#count-values">count_values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#count-index">count_index</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-all-turns">get_all_turns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#group-shift">group_shift</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rolling-corr">rolling_corr</a></li>
<li class="toctree-l3"><a class="reference internal" href="#group-fillna">group_fillna</a></li>
<li class="toctree-l3"><a class="reference internal" href="#group-rank">group_rank</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-func-df-concat">get_func_df_concat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#df-groupby-func">df_groupby_func</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bootstrapping">bootstrapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#groupby-rolling-func">groupby_rolling_func</a></li>
<li class="toctree-l3"><a class="reference internal" href="#merge-dicts">merge_dicts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#link-lists">link_lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-lists-inter">get_lists_inter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list-eq">list_eq</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-num-decimal">get_num_decimal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list2dict">list2dict</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sort-dict">sort_dict</a></li>
<li class="toctree-l3"><a class="reference internal" href="#insert-into-list">insert_into_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="#count-list">count_list</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tmprint">tmprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="#url2chn">url2chn</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-con-blank">replace_con_blank</a></li>
<li class="toctree-l3"><a class="reference internal" href="#change-dict-key">change_dict_key</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-func-arg-info">get_func_arg_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parse-args">parse_args</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gen-args-praser">gen_args_praser</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-topn-names">get_topn_names</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.install_check">install_check</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">install_check</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.iotools">iotools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#getinputtimeouterror">GetInputTimeoutError</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-input-timeout-win">get_input_timeout_win</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-input-timeout-notwin">get_input_timeout_notwin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-input-timeout">get_input_timeout</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-input-with-timeout">get_input_with_timeout</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-input-multi-line">get_input_multi_line</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pickle-file">pickle_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unpickle-file">unpickle_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-yml">load_yml</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-yml">write_yml</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-json">load_json</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-json">write_json</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-lines">read_lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-txt">write_txt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-text">load_text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#df2file-pd">df2file_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#process-df-pd-big">process_df_pd_big</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-df-pd">load_df_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-csv">load_csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-dfs-pd">load_dfs_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-csvs">load_csvs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-csvs-dir">load_csvs_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-excels">load_excels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#archive-df">archive_df</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-ext-to-filename">add_ext_to_filename</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-dffile-by-maxline">cut_dffile_by_maxline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-fpath-ext-num">get_fpath_ext_num</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-bigdffile-by-maxline">cut_bigdffile_by_maxline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-dffile-by-year">cut_dffile_by_year</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-csv-by-year">cut_csv_by_year</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clear-text-file">clear_text_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#clear-specified-type-files">clear_specified_type_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-all-paths">get_all_paths</a></li>
<li class="toctree-l3"><a class="reference internal" href="#del-specified-type-files">del_specified_type_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#del-dir">del_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#del-specified-subdir">del_specified_subdir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-file-to-dir">copy_file_to_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-file-to-file">copy_file_to_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-dir-structure">copy_dir_structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-dir">copy_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#move-file-to-file">move_file_to_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#move-file-to-dir">move_file_to_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#move-dir">move_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#move-specified-type-files">move_specified_type_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-dir">make_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-file-dir">make_file_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-path-dir">make_path_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-last-change-time">get_last_change_time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-file-info">get_file_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-files-info">get_files_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-files-info-dir">get_files_info_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#py2pyc">py2pyc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#py2pyc-dir">py2pyc_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyc2py">pyc2py</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pyc2py-dir">pyc2py_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-mac-address">get_mac_address</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ipconfig-all-win">get_ipconfig_all_win</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ipconfig-win">get_ipconfig_win</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-hardware-ids">get_hardware_ids</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ip1">get_ip1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ip2">get_ip2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ip-public">get_ip_public</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ip-public2">get_ip_public2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-tasks-info-win">get_tasks_info_win</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ports-info-win">get_ports_info_win</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-files">zip_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-fpath">zip_fpath</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-fpaths">zip_fpaths</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-extract">zip_extract</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-fpath-7z">zip_fpath_7z</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-fpaths-7z">zip_fpaths_7z</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extract-7z">extract_7z</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cmdrun">cmdrun</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cmdruns-multi-process">cmdruns_multi_process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cmd-run-pys-multi-process">cmd_run_pys_multi_process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cmd-run-pys">cmd_run_pys</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rename-files-in-dir">rename_files_in_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#find-files-include-str">find_files_include_str</a></li>
<li class="toctree-l3"><a class="reference internal" href="#find-dir-include-str">find_dir_include_str</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-str-in-file">replace_str_in_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-str-in-files">replace_str_in_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-pip-pkgs-win-deprecated">get_pip_pkgs_win_deprecated</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-pip-pkgs-win">get_pip_pkgs_win</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-filedir">get_filedir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-filename">get_filename</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-file-ext-type">get_file_ext_type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-parent-path">get_parent_path</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.backpacks.html">backpacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.chncal.html">chncal</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.datsci.html">datsci</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.find_addends.html">find_addends</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.logtools.html">logtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.openai.html">openai</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.optimizer.html">optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.other.html">other</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.plottools.html">plottools</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.pystyles.html">pystyles</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.sorts.html">sorts</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.speedup.html">speedup</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.sqltools.html">sqltools</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.webtools.html">webtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.wechat.html">wechat</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DramKit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">dramkit</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/dramkit.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dramkit">
<h1>dramkit<a class="headerlink" href="#dramkit" title="Permalink to this heading"></a></h1>
<section id="module-dramkit.cryptotools">
<span id="cryptotools"></span><h2>cryptotools<a class="headerlink" href="#module-dramkit.cryptotools" title="Permalink to this heading"></a></h2>
<section id="expand">
<h3>expand<a class="headerlink" href="#expand" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.expand">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">expand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baselen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.expand" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">如果text不足minlen位的倍数就用空格补足</div>
<div class="line">注：utf-8编码中一个汉字占3个字节</div>
</div>
</dd></dl>

</section>
<section id="en-aes-cbc">
<h3>en_aes_cbc<a class="headerlink" href="#en-aes-cbc" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.en_aes_cbc">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">en_aes_cbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.en_aes_cbc" title="Permalink to this definition"></a></dt>
<dd><p>AES CBC加密</p>
</dd></dl>

</section>
<section id="de-aes-cbc">
<h3>de_aes_cbc<a class="headerlink" href="#de-aes-cbc" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.de_aes_cbc">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">de_aes_cbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.de_aes_cbc" title="Permalink to this definition"></a></dt>
<dd><p>AEC CBC解密</p>
</dd></dl>

</section>
<section id="en-aes-ecb">
<h3>en_aes_ecb<a class="headerlink" href="#en-aes-ecb" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.en_aes_ecb">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">en_aes_ecb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.en_aes_ecb" title="Permalink to this definition"></a></dt>
<dd><p>AES ECB加密</p>
</dd></dl>

</section>
<section id="de-aes-ecb">
<h3>de_aes_ecb<a class="headerlink" href="#de-aes-ecb" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.de_aes_ecb">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">de_aes_ecb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.de_aes_ecb" title="Permalink to this definition"></a></dt>
<dd><p>AES ECB加密</p>
</dd></dl>

</section>
<section id="en-base64">
<h3>en_base64<a class="headerlink" href="#en-base64" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.en_base64">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">en_base64</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.en_base64" title="Permalink to this definition"></a></dt>
<dd><p>base64加密</p>
</dd></dl>

</section>
<section id="de-base64">
<h3>de_base64<a class="headerlink" href="#de-base64" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.de_base64">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">de_base64</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.de_base64" title="Permalink to this definition"></a></dt>
<dd><p>base64解密</p>
</dd></dl>

</section>
<section id="en-base64-url">
<h3>en_base64_url<a class="headerlink" href="#en-base64-url" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.en_base64_url">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">en_base64_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.en_base64_url" title="Permalink to this definition"></a></dt>
<dd><p>base64加密</p>
</dd></dl>

</section>
<section id="de-base64-url">
<h3>de_base64_url<a class="headerlink" href="#de-base64-url" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.de_base64_url">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">de_base64_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.de_base64_url" title="Permalink to this definition"></a></dt>
<dd><p>base64解密</p>
</dd></dl>

</section>
<section id="gen-random-token">
<h3>gen_random_token<a class="headerlink" href="#gen-random-token" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.gen_random_token">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">gen_random_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec_chars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rand_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.gen_random_token" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="gen-random-tokens">
<h3>gen_random_tokens<a class="headerlink" href="#gen-random-tokens" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.cryptotools.gen_random_tokens">
<span class="sig-prename descclassname"><span class="pre">dramkit.cryptotools.</span></span><span class="sig-name descname"><span class="pre">gen_random_tokens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.cryptotools.gen_random_tokens" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>
<section id="module-dramkit.datetimetools">
<span id="datetimetools"></span><h2>datetimetools<a class="headerlink" href="#module-dramkit.datetimetools" title="Permalink to this heading"></a></h2>
<section id="pd-str2datetime">
<h3>pd_str2datetime<a class="headerlink" href="#pd-str2datetime" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.pd_str2datetime">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">pd_str2datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.pd_str2datetime" title="Permalink to this definition"></a></dt>
<dd><p>pd.to_datetime函数封装，排除o为时间戳（统一按str处理）</p>
</dd></dl>

</section>
<section id="datetime2str">
<h3>datetime2str<a class="headerlink" href="#datetime2str" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.datetime2str">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">datetime2str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'local'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.datetime2str" title="Permalink to this definition"></a></dt>
<dd><p>datatime格式转为str格式</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dt</strong> (<em>datetime.datetime</em><em>, </em><em>datetime.date</em><em>, </em><em>time.struct_time</em><em>, </em><em>pd.Timestamp</em>) – datetime、time或pandas格式时间</p></li>
<li><p><strong>strformat</strong> (<em>None</em><em>, </em><em>bool</em><em>, </em><em>str</em>) – <p>设置返回文本格式：</p>
<ul>
<li><p>False, 直接返回dt</p></li>
<li><p>’timestamp’, 返回timestamp</p></li>
<li><p>’int’, 返回int格式日期，如’20221106’</p></li>
<li><p>None, 默认’%Y-%m-%d %H:%M:%S’格式</p></li>
<li><p>指定其他文本格式</p></li>
</ul>
</p></li>
<li><p><strong>tz</strong> (<em>str</em>) – 指定时区，可选[‘local’, ‘utc’]</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dt1</span><span class="p">,</span> <span class="n">dt2</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">time</span><span class="o">.</span><span class="n">localtime</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt3</span> <span class="o">=</span> <span class="n">pd_str2datetime</span><span class="p">(</span><span class="n">datetime_now</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime2str</span><span class="p">(</span><span class="n">dt1</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;utc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime2str</span><span class="p">(</span><span class="n">dt2</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;utc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime2str</span><span class="p">(</span><span class="n">dt3</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;utc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt4</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">gmtime</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime2str</span><span class="p">(</span><span class="n">dt3</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;utc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">datetime2str</span><span class="p">(</span><span class="n">dt3</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="dtseries2str">
<h3>dtseries2str<a class="headerlink" href="#dtseries2str" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.dtseries2str">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">dtseries2str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.dtseries2str" title="Permalink to this definition"></a></dt>
<dd><p>pd.Series转化为str，若不指定strformat，则按joiner连接年月日</p>
</dd></dl>

</section>
<section id="get-datetime-strformat">
<h3>get_datetime_strformat<a class="headerlink" href="#get-datetime-strformat" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_datetime_strformat">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_datetime_strformat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['-',</span> <span class="pre">'',</span> <span class="pre">'.',</span> <span class="pre">'/']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymd_hms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['</span> <span class="pre">',</span> <span class="pre">'',</span> <span class="pre">'.']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[':',</span> <span class="pre">'']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hms_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['.',</span> <span class="pre">'']</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_datetime_strformat" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取常用的文本时间格式format，支持包含以下几个部分的时间类型：</div>
<div class="line">年月日、年月日时分秒、年月日时分、年月日时分秒毫秒、年月日时、年月</div>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>改为用正则表达式匹配（根据连接符、数字占位限制和数字大小限制来匹配）</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ymd</strong> (<em>list</em>) – 年月日连接符</p></li>
<li><p><strong>ymd_hms</strong> (<em>list</em>) – 年月日-时分秒连接符</p></li>
<li><p><strong>hms</strong> (<em>list</em>) – 时分秒连接符</p></li>
<li><p><strong>hms_ms</strong> (<em>list</em>) – 时分秒-毫秒连接符</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="str2datetime">
<h3>str2datetime<a class="headerlink" href="#str2datetime" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.str2datetime">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">str2datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tstr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.str2datetime" title="Permalink to this definition"></a></dt>
<dd><p>时间字符串转datetime格式</p>
</dd></dl>

</section>
<section id="str2timestamp">
<h3>str2timestamp<a class="headerlink" href="#str2timestamp" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.str2timestamp">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">str2timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'local'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.str2timestamp" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">时间字符串转时间戳</div>
<div class="line">若大于16位(纳秒级)，返回string，否则返回float(毫秒级)</div>
</div>
</dd></dl>

</section>
<section id="timestamp2str">
<h3>timestamp2str<a class="headerlink" href="#timestamp2str" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.timestamp2str">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">timestamp2str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'local'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.timestamp2str" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">时间戳转化为字符串格式</div>
<div class="line">注意：t小于0时直接按t为秒数处理（即使整数部分超过10位也不会处理为小数）</div>
</div>
</dd></dl>

</section>
<section id="get-datetime-format">
<h3>get_datetime_format<a class="headerlink" href="#get-datetime-format" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_datetime_format">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_datetime_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['-',</span> <span class="pre">'',</span> <span class="pre">'.',</span> <span class="pre">'/']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymd_hms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['</span> <span class="pre">',</span> <span class="pre">'',</span> <span class="pre">'.']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[':',</span> <span class="pre">'']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hms_ms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['.',</span> <span class="pre">'']</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_datetime_format" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取常用日期时间格式format</div>
<div class="line">注：整数和浮点数都可能是时间戳，这里以常用的规则来判断：</div>
<div class="line-block">
<div class="line">- 若整数长度为8位，判断为整数型日期</div>
<div class="line">- 若整数或浮点数长度不小于10位不大于19位，判断为时间戳</div>
<div class="line">- 其他情况下的整数或浮点数报错处理</div>
</div>
</div>
</dd></dl>

</section>
<section id="copy-format0">
<h3>copy_format0<a class="headerlink" href="#copy-format0" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.copy_format0">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">copy_format0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_tm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_tm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.copy_format0" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">复制日期时间格式</div>
<div class="line">若from_tm是日期时间格式或时间戳格式，则直接返回to_tm</div>
</div>
</dd></dl>

</section>
<section id="x2datetime">
<h3>x2datetime<a class="headerlink" href="#x2datetime" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.x2datetime">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">x2datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'local'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.x2datetime" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">x转化为datetime格式，若x为timestamp，应设置时区tz</div>
<div class="line">若x为8位整数，则转化为str处理，其余情况直接用用pd.to_datetime处理</div>
</div>
</dd></dl>

</section>
<section id="copy-format">
<h3>copy_format<a class="headerlink" href="#copy-format" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.copy_format">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">copy_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_tm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_tm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.copy_format" title="Permalink to this definition"></a></dt>
<dd><p>复制日期时间格式</p>
</dd></dl>

</section>
<section id="time-add">
<h3>time_add<a class="headerlink" href="#time-add" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.time_add">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">time_add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minutes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hours</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.time_add" title="Permalink to this definition"></a></dt>
<dd><p>时间运算，return_format指定返回格式，若为False，返回datetime格式</p>
</dd></dl>

</section>
<section id="date-add-nday">
<h3>date_add_nday<a class="headerlink" href="#date-add-nday" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.date_add_nday">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">date_add_nday</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.date_add_nday" title="Permalink to this definition"></a></dt>
<dd><p>在给定日期date上加上n天（减去时n写成负数即可）</p>
</dd></dl>

</section>
<section id="is-datetime">
<h3>is_datetime<a class="headerlink" href="#is-datetime" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.is_datetime">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">is_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.is_datetime" title="Permalink to this definition"></a></dt>
<dd><p>判断x是否为时间日期</p>
</dd></dl>

</section>
<section id="is-month-end">
<h3>is_month_end<a class="headerlink" href="#is-month-end" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.is_month_end">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">is_month_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'local'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.is_month_end" title="Permalink to this definition"></a></dt>
<dd><p>判断date是否为月末，若date为timestamp，应设置时区tz</p>
</dd></dl>

</section>
<section id="is-month-start">
<h3>is_month_start<a class="headerlink" href="#is-month-start" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.is_month_start">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">is_month_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'local'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.is_month_start" title="Permalink to this definition"></a></dt>
<dd><p>判断date是否为月初，若date为timestamp，应设置时区tz</p>
</dd></dl>

</section>
<section id="is-quarter-end">
<h3>is_quarter_end<a class="headerlink" href="#is-quarter-end" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.is_quarter_end">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">is_quarter_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'local'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.is_quarter_end" title="Permalink to this definition"></a></dt>
<dd><p>判断date是否为季末，若date为timestamp，应设置时区tz</p>
</dd></dl>

</section>
<section id="is-quarter-start">
<h3>is_quarter_start<a class="headerlink" href="#is-quarter-start" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.is_quarter_start">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">is_quarter_start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'local'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.is_quarter_start" title="Permalink to this definition"></a></dt>
<dd><p>判断date是否为季末，若date为timestamp，应设置时区tz</p>
</dd></dl>

</section>
<section id="datetime-now">
<h3>datetime_now<a class="headerlink" href="#datetime-now" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.datetime_now">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">datetime_now</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.datetime_now" title="Permalink to this definition"></a></dt>
<dd><p>获取当前时间</p>
</dd></dl>

</section>
<section id="today-month">
<h3>today_month<a class="headerlink" href="#today-month" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.today_month">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">today_month</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.today_month" title="Permalink to this definition"></a></dt>
<dd><p>获取今日所在年月，格式由连接符joiner确定</p>
</dd></dl>

</section>
<section id="today-date">
<h3>today_date<a class="headerlink" href="#today-date" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.today_date">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">today_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.today_date" title="Permalink to this definition"></a></dt>
<dd><p>获取今日日期，格式由连接符joiner确定</p>
</dd></dl>

</section>
<section id="get-quarter">
<h3>get_quarter<a class="headerlink" href="#get-quarter" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_quarter">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_quarter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Q'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_quarter" title="Permalink to this definition"></a></dt>
<dd><p>获取日期所在季度</p>
</dd></dl>

</section>
<section id="get-quarter-start-end-by-yq">
<h3>get_quarter_start_end_by_yq<a class="headerlink" href="#get-quarter-start-end-by-yq" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_quarter_start_end_by_yq">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_quarter_start_end_by_yq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_quarter_start_end_by_yq" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="get-quarter-start-end-by-date">
<h3>get_quarter_start_end_by_date<a class="headerlink" href="#get-quarter-start-end-by-date" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_quarter_start_end_by_date">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_quarter_start_end_by_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_quarter_start_end_by_date" title="Permalink to this definition"></a></dt>
<dd><p>获取date日期所在季度的起始日期</p>
</dd></dl>

</section>
<section id="today-quarter">
<h3>today_quarter<a class="headerlink" href="#today-quarter" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.today_quarter">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">today_quarter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Q'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.today_quarter" title="Permalink to this definition"></a></dt>
<dd><p>获取今日所在季度</p>
</dd></dl>

</section>
<section id="get-2part-next">
<h3>get_2part_next<a class="headerlink" href="#get-2part-next" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_2part_next">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_2part_next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">part1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_2part_next" title="Permalink to this definition"></a></dt>
<dd><p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_2part_next</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># 2023Q2往后推2个季度</span>
<span class="go">(2023, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_2part_next</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="c1"># 2023Q4往后推5个季度</span>
<span class="go">(2025, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_2part_next</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span> <span class="c1"># 202304往后推8个月</span>
<span class="go">(2023, 12)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_2part_next</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># 202309往后推10个月</span>
<span class="go">(2024, 7)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_2part_next</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># 2023Q2往前推2个季度</span>
<span class="go">(2022, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_2part_next</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># 2023Q4往前推5个季度</span>
<span class="go">(2022, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_2part_next</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">)</span> <span class="c1"># 202304往前推8个月</span>
<span class="go">(2022, 4)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_2part_next</span><span class="p">(</span><span class="mi">2023</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># 202309往前推10个月</span>
<span class="go">(2022, 11)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="get-pre-quarter">
<h3>get_pre_quarter<a class="headerlink" href="#get-pre-quarter" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_pre_quarter">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_pre_quarter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Q'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_pre_quarter" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取date前第n个季度</div>
<div class="line">如:</div>
<div class="line">get_pre_quarter(“20230418”) -&gt; “2023Q1”</div>
<div class="line">get_pre_quarter(“20230418”, 2) -&gt; “2022Q4”</div>
<div class="line">get_pre_quarter(“20230418”, 3) -&gt; “2022Q3”</div>
<div class="line">get_pre_quarter(“20230418”, 4) -&gt; “2022Q2”</div>
<div class="line">get_pre_quarter(“20230418”, 5) -&gt; “2022Q1”</div>
<div class="line">get_pre_quarter(“20230418”, 6) -&gt; “2021Q4”</div>
<div class="line">get_pre_quarter(“20230418”, 7) -&gt; “2021Q3”</div>
<div class="line">get_pre_quarter(“20230418”, 8) -&gt; “2021Q2”</div>
</div>
</dd></dl>

</section>
<section id="get-dayofweek">
<h3>get_dayofweek<a class="headerlink" href="#get-dayofweek" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_dayofweek">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_dayofweek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_dayofweek" title="Permalink to this definition"></a></dt>
<dd><p>返回date属于星期几（1-7）</p>
</dd></dl>

</section>
<section id="get-dayofyear">
<h3>get_dayofyear<a class="headerlink" href="#get-dayofyear" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_dayofyear">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_dayofyear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_dayofyear" title="Permalink to this definition"></a></dt>
<dd><p>返回date属于一年当中的第几天（从1开始记）</p>
</dd></dl>

</section>
<section id="get-month-end">
<h3>get_month_end<a class="headerlink" href="#get-month-end" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_month_end">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_month_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_month_end" title="Permalink to this definition"></a></dt>
<dd><p>获取date所在月的月末日期</p>
</dd></dl>

</section>
<section id="get-next-nmonth-start-end">
<h3>get_next_nmonth_start_end<a class="headerlink" href="#get-next-nmonth-start-end" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_next_nmonth_start_end">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_next_nmonth_start_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_next_nmonth_start_end" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="get-next-nquarter-start-end">
<h3>get_next_nquarter_start_end<a class="headerlink" href="#get-next-nquarter-start-end" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_next_nquarter_start_end">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_next_nquarter_start_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_next_nquarter_start_end" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="get-date-format">
<h3>get_date_format<a class="headerlink" href="#get-date-format" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_date_format">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_date_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiners</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['</span> <span class="pre">',</span> <span class="pre">'-',</span> <span class="pre">'/',</span> <span class="pre">'*',</span> <span class="pre">'#',</span> <span class="pre">'&#64;',</span> <span class="pre">'.',</span> <span class="pre">'_']</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_date_format" title="Permalink to this definition"></a></dt>
<dd><p>判断日期格式位，返回日期位数和连接符</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date</strong> (<em>str</em>) – 表示日期的字符串</p></li>
<li><p><strong>joiners</strong> (<em>list</em>) – <p>支持的格式连接符，不支持的连接符可能报错或返回’未知日期格式’</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>注：若date无格式连接符，则只判断8位的格式，如’20200220’</p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple - (日期位数（可能为date字符串长度或’未知日期格式’）, 格式连接符（或None）)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="date-reformat-simple">
<h3>date_reformat_simple<a class="headerlink" href="#date-reformat-simple" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.date_reformat_simple">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">date_reformat_simple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner_ori</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.date_reformat_simple" title="Permalink to this definition"></a></dt>
<dd><p>时间格式简单转化</p>
</dd></dl>

</section>
<section id="date-reformat-chn">
<h3>date_reformat_chn<a class="headerlink" href="#date-reformat-chn" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.date_reformat_chn">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">date_reformat_chn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.date_reformat_chn" title="Permalink to this definition"></a></dt>
<dd><p>指定连接符为joiner，重新格式化date，date格式为x年x月x日</p>
</dd></dl>

</section>
<section id="gen-strformat">
<h3>gen_strformat<a class="headerlink" href="#gen-strformat" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.gen_strformat">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">gen_strformat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.gen_strformat" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="date-reformat">
<h3>date_reformat<a class="headerlink" href="#date-reformat" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.date_reformat">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">date_reformat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.date_reformat" title="Permalink to this definition"></a></dt>
<dd><p>指定连接符为joiner，重新格式化date</p>
</dd></dl>

</section>
<section id="date8-to-date10">
<h3>date8_to_date10<a class="headerlink" href="#date8-to-date10" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.date8_to_date10">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">date8_to_date10</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.date8_to_date10" title="Permalink to this definition"></a></dt>
<dd><p>8位日期转换为10位日期，连接符为joiner</p>
</dd></dl>

</section>
<section id="date10-to-date8">
<h3>date10_to_date8<a class="headerlink" href="#date10-to-date8" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.date10_to_date8">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">date10_to_date8</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.date10_to_date8" title="Permalink to this definition"></a></dt>
<dd><p>10位日期转换为8位日期</p>
</dd></dl>

</section>
<section id="diff-time-second">
<h3>diff_time_second<a class="headerlink" href="#diff-time-second" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.diff_time_second">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">diff_time_second</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.diff_time_second" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">计算两个时间的差：time1-time2，time1和time2的格式应相同</div>
<div class="line">返回两个时间差的秒数</div>
</div>
</dd></dl>

</section>
<section id="diff-days-date">
<h3>diff_days_date<a class="headerlink" href="#diff-days-date" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.diff_days_date">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">diff_days_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.diff_days_date" title="Permalink to this definition"></a></dt>
<dd><p>计算两个日期间相隔天数，若date1大于date2，则输出为正，否则为负</p>
</dd></dl>

</section>
<section id="get-dates-between">
<h3>get_dates_between<a class="headerlink" href="#get-dates-between" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_dates_between">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_dates_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_workday</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_weekend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_dates_between" title="Permalink to this definition"></a></dt>
<dd><p>获取date1到date2之间的日期列表，keep1和keep2设置结果是否保留date1和date2</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>是否为workday用了chncal包，若chncal库没更新，可能导致结果不准确</p>
</div>
</dd></dl>

</section>
<section id="get-work-dates-chncal">
<h3>get_work_dates_chncal<a class="headerlink" href="#get-work-dates-chncal" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_work_dates_chncal">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_work_dates_chncal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_work_dates_chncal" title="Permalink to this definition"></a></dt>
<dd><p>利用chncal获取指定范围内的工作日列表</p>
</dd></dl>

</section>
<section id="get-recent-workday-chncal">
<h3>get_recent_workday_chncal<a class="headerlink" href="#get-recent-workday-chncal" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_recent_workday_chncal">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_recent_workday_chncal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'post'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_recent_workday_chncal" title="Permalink to this definition"></a></dt>
<dd><p>若date为工作日，则返回，否则返回下一个(post)或上一个(pre)工作日</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>若chncal库没更新，可能导致结果不准确</p>
</div>
</dd></dl>

</section>
<section id="get-next-nth-workday-chncal">
<h3>get_next_nth_workday_chncal<a class="headerlink" href="#get-next-nth-workday-chncal" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_next_nth_workday_chncal">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_next_nth_workday_chncal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_next_nth_workday_chncal" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">给定日期date，返回其后第n个工作日日期，n可为负数（返回结果在date之前）</div>
<div class="line">若n为0，直接返回date</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>若chncal库没更新，可能导致结果不准确</p>
</div>
</dd></dl>

</section>
<section id="get-date-weekday">
<h3>get_date_weekday<a class="headerlink" href="#get-date-weekday" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_date_weekday">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_date_weekday</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weekday</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_week</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_date_weekday" title="Permalink to this definition"></a></dt>
<dd><p>获取指定星期的日期</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>weekday</strong> (<em>int</em>) – 指定星期，如5表示星期5，7表示星期天</p></li>
<li><p><strong>n_week</strong> (<em>int</em>) – 表示距离现在第几个星期，0表示当前星期，大于0表示往后推，小于0表示往前推</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_date_weekday</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># 获取本周三的日期</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_date_weekday</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># 获取上周六的日期</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_date_weekday</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># 获取下周日的日期</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="get-recent-inweekday">
<h3>get_recent_inweekday<a class="headerlink" href="#get-recent-inweekday" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_recent_inweekday">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_recent_inweekday</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'post'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_recent_inweekday" title="Permalink to this definition"></a></dt>
<dd><p>若date不是周末，则返回date，否则返回下一个(post)或上一个(pre)周内日期</p>
</dd></dl>

</section>
<section id="get-next-nth-inweekday">
<h3>get_next_nth_inweekday<a class="headerlink" href="#get-next-nth-inweekday" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.get_next_nth_inweekday">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">get_next_nth_inweekday</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.get_next_nth_inweekday" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">给定日期date，返回其后第n个周内日日期，n可为负数（返回结果在date之前）</div>
<div class="line">若n为0，直接返回date</div>
</div>
</dd></dl>

</section>
<section id="cut-date">
<h3>cut_date<a class="headerlink" href="#cut-date" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.cut_date">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">cut_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.cut_date" title="Permalink to this definition"></a></dt>
<dd><p>以间隔为n天划分start_date和end_date之间日期子集</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="s1">&#39;20200201&#39;</span><span class="p">,</span> <span class="s1">&#39;20200225&#39;</span><span class="p">,</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cut_date</span><span class="p">(</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">[[&#39;20200201&#39;, &#39;20200210&#39;],</span>
<span class="go"> [&#39;20200211&#39;, &#39;20200220&#39;],</span>
<span class="go"> [&#39;20200221&#39;, &#39;20200225&#39;]]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="diff-workdays-date">
<h3>diff_workdays_date<a class="headerlink" href="#diff-workdays-date" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datetimetools.diff_workdays_date">
<span class="sig-prename descclassname"><span class="pre">dramkit.datetimetools.</span></span><span class="sig-name descname"><span class="pre">diff_workdays_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datetimetools.diff_workdays_date" title="Permalink to this definition"></a></dt>
<dd><p>计算两个日期间相隔的工作日天数，若date1大于date2，则输出为正，否则为负</p>
</dd></dl>

</section>
</section>
<section id="module-dramkit.gentools">
<span id="gentools"></span><h2>gentools<a class="headerlink" href="#module-dramkit.gentools" title="Permalink to this heading"></a></h2>
<p>General toolboxs</p>
<section id="timerecoder">
<h3>TimeRecoder<a class="headerlink" href="#timerecoder" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.gentools.TimeRecoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">TimeRecoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">monotonic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.TimeRecoder" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>运行时间记录器</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tr</span> <span class="o">=</span> <span class="n">TimeRecoder</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tr</span><span class="o">.</span><span class="n">useds</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tr</span><span class="o">.</span><span class="n">usedm</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tr</span><span class="o">.</span><span class="n">used</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.TimeRecoder.now">
<span class="sig-name descname"><span class="pre">now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.TimeRecoder.now" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.TimeRecoder.used">
<span class="sig-name descname"><span class="pre">used</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.TimeRecoder.used" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.TimeRecoder.usedm">
<span class="sig-name descname"><span class="pre">usedm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.TimeRecoder.usedm" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.TimeRecoder.useds">
<span class="sig-name descname"><span class="pre">useds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.TimeRecoder.useds" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="dirtmodifyerror">
<h3>DirtModifyError<a class="headerlink" href="#dirtmodifyerror" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.gentools.DirtModifyError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">DirtModifyError</span></span><a class="headerlink" href="#dramkit.gentools.DirtModifyError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

</section>
<section id="genobject">
<h3>GenObject<a class="headerlink" href="#genobject" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">GenObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirt_modify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<div class="line-block">
<div class="line">创建一个数据类型，用于存放变量值，</div>
<div class="line">既可以用.key调用，也可以像字典一样调用[key]调用</div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirt_modify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.__init__" title="Permalink to this definition"></a></dt>
<dd><p>初始化</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.clear" title="Permalink to this definition"></a></dt>
<dd><p>清空所有属性变量</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.copy" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.dirt_modify">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dirt_modify</span></span><a class="headerlink" href="#dramkit.gentools.GenObject.dirt_modify" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.items">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">items</span></span><a class="headerlink" href="#dramkit.gentools.GenObject.items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">keys</span></span><a class="headerlink" href="#dramkit.gentools.GenObject.keys" title="Permalink to this definition"></a></dt>
<dd><p>显示所有key</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.listitems">
<span class="sig-name descname"><span class="pre">listitems</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.listitems" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.listkeys">
<span class="sig-name descname"><span class="pre">listkeys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.listkeys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.merge" title="Permalink to this definition"></a></dt>
<dd><p>从另一个对象中合并属性和值</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.pop" title="Permalink to this definition"></a></dt>
<dd><p>删除属性变量key，有返回</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.remove" title="Permalink to this definition"></a></dt>
<dd><p>删除属性变量key，无返回</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.set_dirt_modify">
<span class="sig-name descname"><span class="pre">set_dirt_modify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirt_modify</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.set_dirt_modify" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.set_from_dict">
<span class="sig-name descname"><span class="pre">set_from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.set_from_dict" title="Permalink to this definition"></a></dt>
<dd><p>通过dict批量增加属性变量</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.set_key_value">
<span class="sig-name descname"><span class="pre">set_key_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.set_key_value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.gentools.GenObject.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.GenObject.update" title="Permalink to this definition"></a></dt>
<dd><p>像dict一样通过update函数传入字典进行更新</p>
</dd></dl>

</dd></dl>

</section>
<section id="deprecatederror">
<h3>DeprecatedError<a class="headerlink" href="#deprecatederror" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.gentools.DeprecatedError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">DeprecatedError</span></span><a class="headerlink" href="#dramkit.gentools.DeprecatedError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

</section>
<section id="structureobject">
<h3>StructureObject<a class="headerlink" href="#structureobject" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.gentools.StructureObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">StructureObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.StructureObject" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</section>
<section id="run-func-with-timeout-thread">
<h3>run_func_with_timeout_thread<a class="headerlink" href="#run-func-with-timeout-thread" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.run_func_with_timeout_thread">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">run_func_with_timeout_thread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_show_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kill_when_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.run_func_with_timeout_thread" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">限定时间(timeout秒)执行函数func，若限定时间内未执行完毕，返回None</div>
<div class="line">args为tuple或list，为func函数接受的参数列表</div>
</div>
<div class="line-block">
<div class="line">注：在线程中强制结束函数可能导致未知错误，</div>
<div class="line">比如文件资源打开了但是强制结束时不能关闭</div>
</div>
</dd></dl>

</section>
<section id="with-timeout-thread">
<h3>with_timeout_thread<a class="headerlink" href="#with-timeout-thread" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.with_timeout_thread">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">with_timeout_thread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout_show_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kill_when_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.with_timeout_thread" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">作为装饰器在指定时间timeout(秒)内运行函数，超时则结束运行</div>
<div class="line">通过控制线程实现</div>
</div>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">import</span> <span class="nn">os</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">dramkit.gentools</span> <span class="kn">import</span> <span class="n">tmprint</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="linenos"> 6</span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]])</span>
<span class="linenos"> 7</span><span class="n">df1</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;./_test/with_timeout_thread_test_df.xlsx&#39;</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="n">TIMEOUT</span> <span class="o">=</span> <span class="mi">3</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="nd">@with_timeout_thread</span><span class="p">(</span><span class="n">TIMEOUT</span><span class="p">,</span>
<span class="linenos">11</span>                     <span class="n">logger_error</span><span class="o">=</span><span class="kc">False</span>
<span class="linenos">12</span>                     <span class="p">)</span>
<span class="linenos">13</span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="linenos">14</span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./_test/with_timeout_thread_test_df.xlsx&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="linenos">15</span>        <span class="n">tmprint</span><span class="p">(</span><span class="s1">&#39;sleeping...&#39;</span><span class="p">)</span>
<span class="linenos">16</span>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="linenos">17</span>    <span class="n">df2</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;./_test/with_timeout_thread_test_df.xlsx&#39;</span><span class="p">)</span>
<span class="linenos">18</span>    <span class="k">return</span> <span class="n">x</span>
<span class="linenos">19</span>
<span class="linenos">20</span><span class="k">def</span> <span class="nf">test</span><span class="p">():</span>
<span class="linenos">21</span>    <span class="n">res</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="linenos">22</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;res:&#39;</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span>
<span class="linenos">23</span>    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="s1">&#39;./_test/with_timeout_thread_test_df.xlsx&#39;</span><span class="p">)</span>
<span class="linenos">24</span>    <span class="k">return</span> <span class="n">res</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">test</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="try-repeat-run">
<h3>try_repeat_run<a class="headerlink" href="#try-repeat-run" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.try_repeat_run">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">try_repeat_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_max_run</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sleep_seconds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.try_repeat_run" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">作为装饰器尝试多次运行指定函数</div>
<div class="line">使用场景：第一次运行可能出错，需要再次运行(比如取数据时第一次可能连接超时，需要再取一次)</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_max_run</strong> (<em>int</em>) – 最多尝试运行次数</p></li>
<li><p><strong>logger</strong> (<em>None</em><em>, </em><em>logging.Logger</em>) – 日志记录器</p></li>
<li><p><strong>sleep_seconds</strong> (<em>int</em><em>, </em><em>float</em>) – <div class="line-block">
<div class="line">多次执行时，上一次执行完成之后需要暂停的时间（秒）</div>
<div class="line">注：在force_rep为True时，每次执行完都会暂停，force_rep为False只有报错之后才会暂停</div>
</div>
</p></li>
<li><p><strong>force_rep</strong> (<em>bool</em>) – 若为True，则不论是否报错都强制重复执行，若为False，则只有报错才会重复执行</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>result</strong> – 若目标函数执行成功，则返回执行结果；若失败，则返回None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None, other</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">dramkit</span> <span class="kn">import</span> <span class="n">simple_logger</span>
<span class="linenos"> 2</span><span class="n">logger</span> <span class="o">=</span> <span class="n">simple_logger</span><span class="p">()</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@try_repeat_run</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="n">logger</span><span class="p">,</span> <span class="n">sleep_seconds</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">force_rep</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="k">def</span> <span class="nf">rand_div</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="linenos"> 6</span>    <span class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="k">def</span> <span class="nf">repeat_test</span><span class="p">(</span><span class="n">info_</span><span class="p">):</span>
<span class="linenos"> 9</span>    <span class="nb">print</span><span class="p">(</span><span class="n">info_</span><span class="p">)</span>
<span class="linenos">10</span>    <span class="k">return</span> <span class="n">rand_div</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">repeat_test</span><span class="p">(</span><span class="s1">&#39;repeat test...&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="capture-print">
<h3>capture_print<a class="headerlink" href="#capture-print" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.capture_print">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">capture_print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_last_blank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.capture_print" title="Permalink to this definition"></a></dt>
<dd><p>作为装饰器捕获函数中的print内容</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>logger</strong> (<em>None</em><em>, </em><em>logging.Logger</em>) – 日志记录器，若为None，则会优先使用被调用函数参数中的logger</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">dramkit</span> <span class="kn">import</span> <span class="n">simple_logger</span>
<span class="linenos"> 2</span><span class="n">logger</span> <span class="o">=</span> <span class="n">simple_logger</span><span class="p">()</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@capture_print</span><span class="p">(</span><span class="n">logger</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="k">def</span> <span class="nf">test_print</span><span class="p">():</span>
<span class="linenos"> 6</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;test_print...&#39;</span><span class="p">)</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="nd">@capture_print</span><span class="p">()</span>
<span class="linenos"> 9</span><span class="k">def</span> <span class="nf">test_print1</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">10</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;test_print1...&#39;</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="nd">@capture_print</span><span class="p">(</span><span class="n">simple_logger</span><span class="p">(</span><span class="n">logname</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
<span class="linenos">13</span><span class="k">def</span> <span class="nf">test_print2</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">14</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;test_print2...&#39;</span><span class="p">)</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="nd">@capture_print</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos">17</span><span class="k">def</span> <span class="nf">test_print3</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">18</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;test_print3...&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">test_print</span><span class="p">()</span>
<span class="go">test_print...</span>
<span class="go">    [INFO: 2023-04-29 10:45:41,671]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_print1</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="n">simple_logger</span><span class="p">(</span><span class="s1">&#39;./_test/capture_print_test.log&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_print2</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="n">simple_logger</span><span class="p">(</span><span class="s1">&#39;./_test/capture_print_test.log&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_print3</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="log-used-time">
<h3>log_used_time<a class="headerlink" href="#log-used-time" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.log_used_time">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">log_used_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.log_used_time" title="Permalink to this definition"></a></dt>
<dd><p>作为装饰器记录函数运行用时</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>logger</strong> (<em>None</em><em>, </em><em>logging.Logger</em>) – 日志记录器，若为None，则会优先使用被调用函数参数中的logger</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">dramkit</span> <span class="kn">import</span> <span class="n">simple_logger</span>
<span class="linenos"> 2</span><span class="n">logger</span> <span class="o">=</span> <span class="n">simple_logger</span><span class="p">()</span>
<span class="linenos"> 3</span>
<span class="linenos"> 4</span><span class="nd">@log_used_time</span><span class="p">(</span><span class="n">logger</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="k">def</span> <span class="nf">wait</span><span class="p">():</span>
<span class="linenos"> 6</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;wait...&#39;</span><span class="p">)</span>
<span class="linenos"> 7</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span><span class="nd">@log_used_time</span><span class="p">()</span>
<span class="linenos">10</span><span class="k">def</span> <span class="nf">wait1</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">11</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;wait...&#39;</span><span class="p">)</span>
<span class="linenos">12</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">13</span>
<span class="linenos">14</span><span class="nd">@log_used_time</span><span class="p">(</span><span class="n">simple_logger</span><span class="p">(</span><span class="n">logname</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">))</span>
<span class="linenos">15</span><span class="k">def</span> <span class="nf">wait2</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">16</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;wait...&#39;</span><span class="p">)</span>
<span class="linenos">17</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="linenos">18</span>
<span class="linenos">19</span><span class="nd">@log_used_time</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="linenos">20</span><span class="k">def</span> <span class="nf">wait3</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos">21</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;wait...&#39;</span><span class="p">)</span>
<span class="linenos">22</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wait</span><span class="p">()</span>
<span class="go">wait...</span>
<span class="go">func `wait` run time: 3.0s.</span>
<span class="go">    [INFO: 2023-04-20 13:39:37,292]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wait1</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="n">simple_logger</span><span class="p">(</span><span class="s1">&#39;./_test/log_used_time_test.log&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wait2</span><span class="p">(</span><span class="n">logger</span><span class="o">=</span><span class="n">simple_logger</span><span class="p">(</span><span class="s1">&#39;./_test/log_used_time_test.log&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wait3</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#dramkit.gentools.print_used_time" title="dramkit.gentools.print_used_time"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.print_used_time()</span></code></a></p>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.cnblogs.com/xiuyou/p/11283512.html">https://www.cnblogs.com/xiuyou/p/11283512.html</a></p></li>
<li><p><a class="reference external" href="https://www.cnblogs.com/slysky/p/9777424.html">https://www.cnblogs.com/slysky/p/9777424.html</a></p></li>
<li><p><a class="reference external" href="https://www.cnblogs.com/zhzhang/p/11375574.html">https://www.cnblogs.com/zhzhang/p/11375574.html</a></p></li>
<li><p><a class="reference external" href="https://www.cnblogs.com/zhzhang/p/11375774.html">https://www.cnblogs.com/zhzhang/p/11375774.html</a></p></li>
<li><p><a class="reference external" href="https://blog.csdn.net/weixin_33711647/article/details/92549215">https://blog.csdn.net/weixin_33711647/article/details/92549215</a></p></li>
</ul>
</dd></dl>

</section>
<section id="print-used-time">
<h3>print_used_time<a class="headerlink" href="#print-used-time" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.print_used_time">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">print_used_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.print_used_time" title="Permalink to this definition"></a></dt>
<dd><p>作为装饰器打印函数运行用时</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<em>function</em>) – 需要记录运行用时的函数</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="kn">from</span> <span class="nn">dramkit</span> <span class="kn">import</span> <span class="n">simple_logger</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="nd">@print_used_time</span>
<span class="linenos">4</span><span class="k">def</span> <span class="nf">wait</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="linenos">5</span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;wait...&#39;</span><span class="p">)</span>
<span class="linenos">6</span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wait</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">wait...</span>
<span class="go">func `wait` run time: 3.0s.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wait</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">logger</span><span class="o">=</span><span class="n">simple_logger</span><span class="p">())</span>
<span class="go">wait...</span>
<span class="go">func `wait` run time: 3.0s.</span>
<span class="go">    [INFO: 2023-04-20 13:22:32,643]</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#dramkit.gentools.log_used_time" title="dramkit.gentools.log_used_time"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.log_used_time()</span></code></a></p>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.cnblogs.com/slysky/p/9777424.html">https://www.cnblogs.com/slysky/p/9777424.html</a></p></li>
<li><p><a class="reference external" href="https://www.cnblogs.com/zhzhang/p/11375574.html">https://www.cnblogs.com/zhzhang/p/11375574.html</a></p></li>
</ul>
</dd></dl>

</section>
<section id="func-res-process-decorator">
<h3>func_res_process_decorator<a class="headerlink" href="#func-res-process-decorator" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.func_res_process_decorator">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">func_res_process_decorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func_res</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args_res</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.func_res_process_decorator" title="Permalink to this definition"></a></dt>
<dd><p>作为装饰器处理函数输出结果</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">res_process</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="gp">... </span>   <span class="k">return</span> <span class="n">res</span> <span class="o">*</span> <span class="n">k</span> <span class="o">+</span> <span class="n">b</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="nd">@func_res_process_decorator</span><span class="p">(</span><span class="n">res_process</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">a</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">15</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="func-runtime-test">
<h3>func_runtime_test<a class="headerlink" href="#func-runtime-test" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.func_runtime_test">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">func_runtime_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.func_runtime_test" title="Permalink to this definition"></a></dt>
<dd><p>函数性能（运行时间）测试，n设置测试运行测试</p>
</dd></dl>

</section>
<section id="check-list-arg">
<h3>check_list_arg<a class="headerlink" href="#check-list-arg" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.check_list_arg">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">check_list_arg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_none</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.check_list_arg" title="Permalink to this definition"></a></dt>
<dd><p>检查arg，若其不是list或tuple，则转为列表</p>
</dd></dl>

</section>
<section id="get-update-kwargs">
<h3>get_update_kwargs<a class="headerlink" href="#get-update-kwargs" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_update_kwargs">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_update_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_update_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>取出并更新kwargs中key参数的值</p>
<p>使用场景：当一个函数接受**kwargs参数，同时需要对kwargs里面的某个key的值进行更新并且
提取出来单独传参</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – kwargs中待取出并更新的关键字</p></li>
<li><p><strong>arg</strong> – 关键字key对应的新值</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – 关键字参数对</p></li>
<li><p><strong>arg_default</strong> (<em>key关键词对应参数默认值</em>) – </p></li>
<li><p><strong>func_update</strong> (<em>None</em><em>, </em><em>False</em><em>, </em><em>function</em>) – <p>自定义取出的key参数值更新函数: arg_new = func_update(arg, arg_old)</p>
<ul>
<li><p>若为False, 则不更新，直接取出原来key对应的参数值或默认值</p></li>
<li><p>若为`replace`, 则直接替换更新</p></li>
<li><p>若为None, 则 <strong>默认</strong> 更新方式为:</p>
<blockquote>
<div><ul class="simple">
<li><p>若参数值arg为dict或list类型，则增量更新</p></li>
<li><p>若参数值arg_old为list且arg不为list，则增量更新</p></li>
<li><p>其它情况直接替换更新</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>arg_new</em> – 取出并更新之后的关键字key对应参数值</p></li>
<li><p><em>kwargs</em> – 删除key之后的kwargs</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;aa&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_update_kwargs</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<span class="go">(&#39;aa&#39;, {&#39;b&#39;: &#39;b&#39;})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;a_&#39;</span><span class="p">:</span> <span class="s1">&#39;aa__&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;aa&#39;</span><span class="p">},</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_update_kwargs</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<span class="go">({&#39;a&#39;: &#39;aa&#39;, &#39;a_&#39;: &#39;aa__&#39;}, {&#39;b&#39;: &#39;b&#39;})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aa&#39;</span><span class="p">,</span> <span class="s1">&#39;aa_&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_update_kwargs</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<span class="go">([&#39;a&#39;, &#39;aa&#39;, &#39;aa_&#39;], {&#39;b&#39;: &#39;b&#39;})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aa&#39;</span><span class="p">,</span> <span class="s1">&#39;aa_&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_update_kwargs</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">,</span> <span class="n">func_update</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span><span class="p">)</span>
<span class="go">([&#39;aa&#39;, &#39;aa_&#39;], {&#39;b&#39;: &#39;b&#39;})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;aa_&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_update_kwargs</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
<span class="go">([&#39;a&#39;, &#39;aa_&#39;], {&#39;b&#39;: &#39;b&#39;})</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="roulette-base">
<h3>roulette_base<a class="headerlink" href="#roulette-base" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.roulette_base">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">roulette_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitness</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.roulette_base" title="Permalink to this definition"></a></dt>
<dd><p>基本轮盘赌法</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fitness</strong> (<em>list</em>) – <p>所有备选对象的fitness值列表</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>fitness的元素值应为正，且fitness值越大，被选中概率越大</p>
</div>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>int</cite> - 返回被选中对象的索引号</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://blog.csdn.net/armwangEric/article/details/50775206">https://blog.csdn.net/armwangEric/article/details/50775206</a></p>
</dd></dl>

</section>
<section id="roulette-stochastic-accept">
<h3>roulette_stochastic_accept<a class="headerlink" href="#roulette-stochastic-accept" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.roulette_stochastic_accept">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">roulette_stochastic_accept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitness</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.roulette_stochastic_accept" title="Permalink to this definition"></a></dt>
<dd><p>轮盘赌法，随机接受法</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fitness</strong> (<em>list</em>) – <p>所有备选对象的fitness值列表</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>fitness的元素值应为正，且fitness值越大，被选中概率越大</p>
</div>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>int</cite> - 返回被选中对象的索引号</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://blog.csdn.net/armwangEric/article/details/50775206">https://blog.csdn.net/armwangEric/article/details/50775206</a></p>
</dd></dl>

</section>
<section id="roulette-count">
<h3>roulette_count<a class="headerlink" href="#roulette-count" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.roulette_count">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">roulette_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rand_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.roulette_count" title="Permalink to this definition"></a></dt>
<dd><p>轮盘赌法n次模拟，返回每个备选对象在n次模拟中被选中的次数</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitness</strong> (<em>list</em><em>, </em><em>dict</em>) – <p>所有备选对象的fitness值列表或字典，格式参见Example</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>fitness的元素值应为正，且fitness值越大，被选中概率越大</p>
</div>
</p></li>
<li><p><strong>n</strong> (<em>int</em>) – 模拟次数</p></li>
<li><p><strong>rand_func</strong> (<em>None</em><em>, </em><em>function</em>) – <div class="line-block">
<div class="line">指定轮盘赌法函数，如’roulette_base’(<a class="reference internal" href="#dramkit.gentools.roulette_base" title="dramkit.gentools.roulette_base"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.roulette_base()</span></code></a>)</div>
<div class="line">或’roulette_stochastic_accept’(<a class="reference internal" href="#dramkit.gentools.roulette_stochastic_accept" title="dramkit.gentools.roulette_stochastic_accept"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.roulette_stochastic_accept()</span></code></a>),</div>
<div class="line">默认用’roulette_stochastic_accept’</div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>list, dict</cite> - 返回每个对象在模拟n次中被选中的次数</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fitness</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roulette_count</span><span class="p">(</span><span class="n">fitness</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">6000</span><span class="p">)</span>
<span class="go">[(0, 991), (1, 2022), (2, 2987)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fitness</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roulette_count</span><span class="p">(</span><span class="n">fitness</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">6000</span><span class="p">)</span>
<span class="go">[(0, 1003), (1, 1991), (2, 3006)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fitness</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roulette_count</span><span class="p">(</span><span class="n">fitness</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">6000</span><span class="p">)</span>
<span class="go">[(&#39;a&#39;, 997), (&#39;b&#39;, 1989), (&#39;c&#39;, 3014)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fitness</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roulette_count</span><span class="p">(</span><span class="n">fitness</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">6000</span><span class="p">)</span>
<span class="go">[(&#39;a&#39;, 1033), (&#39;b&#39;, 1967), (&#39;c&#39;, 3000)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fitness</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">roulette_count</span><span class="p">(</span><span class="n">fitness</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">6000</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: 988, &#39;b&#39;: 1971, &#39;c&#39;: 3041}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="rand-sum">
<h3>rand_sum<a class="headerlink" href="#rand-sum" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.rand_sum">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">rand_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_sum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_dot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.rand_sum" title="Permalink to this definition"></a></dt>
<dd><p>在指定最大最小值范围内随机选取若干个随机数，所选取数之和为定值</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_sum</strong> (<em>int</em><em>, </em><em>float</em>) – 目标和</p></li>
<li><p><strong>n</strong> (<em>int</em>) – 随机选取个数</p></li>
<li><p><strong>lowests</strong> (<em>int</em><em>, </em><em>floot</em><em>, </em><em>list</em>) – 随机数下限值，若为list，则其第k个元素对应第k个随机数的下限</p></li>
<li><p><strong>highests</strong> (<em>int</em><em>, </em><em>floot</em><em>, </em><em>list</em>) – 随机数上限值，若为list，则其第k关元素对应第k个随机数的上限</p></li>
<li><p><strong>isint</strong> (<em>bool</em>) – <p>所选数是否强制为整数，若为False，则为实数</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>若输入lowests或highests不是int，则isint为True无效</p>
</div>
</p></li>
<li><p><strong>n_dot</strong> (<em>int</em>) – 动态上下界值与上下限比较时控制小数位数(为了避免python精度问题导致的报错)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>list</cite> - 随机选取的n个数，其和为target_sum</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rand_sum</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">[65, 35]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rand_sum</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">[41, 59]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rand_sum</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">90</span><span class="p">])</span>
<span class="go">[73, 27]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="rand-weight-sum">
<h3>rand_weight_sum<a class="headerlink" href="#rand-weight-sum" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.rand_weight_sum">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">rand_weight_sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weight_sum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_dot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.rand_weight_sum" title="Permalink to this definition"></a></dt>
<dd><p>在指定最大最小值范围内随机选取若干个随机数，所选取数之加权和为定值</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>weight_sum</strong> (<em>float</em>) – 目标加权和</p></li>
<li><p><strong>n</strong> (<em>int</em>) – 随机选取个数</p></li>
<li><p><strong>lowests</strong> (<em>int</em><em>, </em><em>floot</em><em>, </em><em>list</em>) – 随机数下限值，若为list，则其第k个元素对应第k个随机数的下限</p></li>
<li><p><strong>highests</strong> (<em>int</em><em>, </em><em>floot</em><em>, </em><em>list</em>) – 随机数上限值，若为list，则其第k关元素对应第k个随机数的上限</p></li>
<li><p><strong>weights</strong> (<em>None</em><em>, </em><em>list</em>) – <p>权重列表</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>lowests和highests与weights应一一对应</p>
</div>
</p></li>
<li><p><strong>n_dot</strong> (<em>int</em>) – 动态上下界值与上下限比较时控制小数位数(为了避免python精度问题导致的报错)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>list</cite> - 随机选取的n个数，其以weights为权重的加权和为weight_sum</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rand_weight_sum</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">[21.41082008017613, 98.58917991982386]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rand_weight_sum</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">[56.867261610484356, 83.13273838951565]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rand_weight_sum</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">90</span><span class="p">])</span>
<span class="go">[80.32071140116187, 79.67928859883813]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rand_weight_sum</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">])</span>
<span class="go">[88.70409567475888, 66.94385648786168]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rand_weight_sum</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="go">[23.080418085462018, 55.37937287180697]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="replace-repeat-iter">
<h3>replace_repeat_iter<a class="headerlink" href="#replace-repeat-iter" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.replace_repeat_iter">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">replace_repeat_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.replace_repeat_iter" title="Permalink to this definition"></a></dt>
<dd><p>替换序列中重复出现的值</p>
<div class="line-block">
<div class="line">series (<cite>pd.Series</cite>) 中若步长为gap的范围内出现多个val值，则只保留第一条记录，
后面的替换为val0</div>
<div class="line">若gap为None，则将连续出现的val值只保留第一个，其余替换为val0(这里连续出现val是指
不出现除了val和val0之外的其他值)</div>
<div class="line">若keep_last为True，则连续的保留最后一个</div>
</div>
<p>返回结果为替换之后的series (<cite>pd.Series</cite>)</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
<span class="gp">... </span>                     <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;test&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;test_rep&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">replace_repeat_iter</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;test&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">gap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">    test  test_rep</span>
<span class="go">0      0         0</span>
<span class="go">1      1         1</span>
<span class="go">2      1         0</span>
<span class="go">3      0         0</span>
<span class="go">4     -1        -1</span>
<span class="go">5     -1        -1</span>
<span class="go">6      2         2</span>
<span class="go">7     -1        -1</span>
<span class="go">8      1         1</span>
<span class="go">9      0         0</span>
<span class="go">10     1         0</span>
<span class="go">11     1         0</span>
<span class="go">12     1         0</span>
<span class="go">13     0         0</span>
<span class="go">14     0         0</span>
<span class="go">15    -1        -1</span>
<span class="go">16    -1        -1</span>
<span class="go">17     0         0</span>
<span class="go">18     0         0</span>
<span class="go">19     1         1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">replace_repeat_iter</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">gap</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">0   -1</span>
<span class="go">1    1</span>
<span class="go">2   -1</span>
<span class="go">3    0</span>
<span class="go">4    1</span>
<span class="go">5    0</span>
<span class="go">6    0</span>
<span class="go">7    0</span>
<span class="go">8   -1</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="replace-repeat-pd">
<h3>replace_repeat_pd<a class="headerlink" href="#replace-repeat-pd" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.replace_repeat_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">replace_repeat_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.replace_repeat_pd" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">替换序列中重复出现的值, 仅保留第一个</div>
<div class="line"><br /></div>
<div class="line">函数功能，参数和意义同 <a class="reference internal" href="#dramkit.gentools.replace_repeat_iter" title="dramkit.gentools.replace_repeat_iter"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.replace_repeat_iter()</span></code></a></div>
<div class="line">区别在于计算时在pandas.DataFrame里面进行而不是采用迭代方式，同时取消了gap
参数(即连续出现的val值只保留第一个)</div>
</div>
</dd></dl>

</section>
<section id="replace-repeat-func-iter">
<h3>replace_repeat_func_iter<a class="headerlink" href="#replace-repeat-func-iter" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.replace_repeat_func_iter">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">replace_repeat_func_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_val0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.replace_repeat_func_iter" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">替换序列中重复出现的值，功能与 <a class="reference internal" href="#dramkit.gentools.replace_repeat_iter" title="dramkit.gentools.replace_repeat_iter"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.replace_repeat_iter()</span></code></a>
类似，只不过把val和val0的值由直接指定换成了由指定函数生成</div>
</div>
<div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">func_val</span></code> 函数用于判断连续条件，其返回值只能是True或False，</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">func_val0</span></code> 函数用于生成替换的新值。</div>
<div class="line">即series中若步长为gap的范围内出现多个满足func_val函数为True的值，
则只保留第一条记录，后面的替换为函数func_val0的值。</div>
<div class="line">若gap为None，则将连续出现的满足func_val函数为True的值只保留第一个，其余替换为函数
func_val0的值(这里连续出现是指不出现除了满足func_val为True和等于func_val0函数值
之外的其他值)</div>
</div>
<p>返回结果为替换之后的series (<cite>pd.Series</cite>)</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                           <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;y_rep&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">replace_repeat_func_iter</span><span class="p">(</span>
<span class="gp">... </span>                <span class="n">data</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">gap</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">    y  y_rep</span>
<span class="go">0   0      0</span>
<span class="go">1   1      1</span>
<span class="go">2   1      1</span>
<span class="go">3   0      0</span>
<span class="go">4  -1      3</span>
<span class="go">5  -1      3</span>
<span class="go">6   2      2</span>
<span class="go">7  -1     -1</span>
<span class="go">8   1      1</span>
<span class="go">9   0      0</span>
<span class="go">10  1      1</span>
<span class="go">11  1      1</span>
<span class="go">12  1      1</span>
<span class="go">13  0      0</span>
<span class="go">14  0      3</span>
<span class="go">15 -1      3</span>
<span class="go">16 -1      3</span>
<span class="go">17  0      3</span>
<span class="go">18  0      3</span>
<span class="go">19  1      1</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="replace-repeat-func-pd">
<h3>replace_repeat_func_pd<a class="headerlink" href="#replace-repeat-func-pd" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.replace_repeat_func_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">replace_repeat_func_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_val0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_last</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.replace_repeat_func_pd" title="Permalink to this definition"></a></dt>
<dd><p>替换序列中重复出现的值, 仅保留第一个</p>
<div class="line-block">
<div class="line">函数功能，参数和意义同 <a class="reference internal" href="#dramkit.gentools.replace_repeat_func_iter" title="dramkit.gentools.replace_repeat_func_iter"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.replace_repeat_func_iter()</span></code></a></div>
<div class="line">区别在于计算时在pandas.DataFrame里面进行而不是采用迭代方式</div>
<div class="line">同时取消了gap参数(即连续出现的满足func_val为True的值只保留第一个)</div>
</div>
</dd></dl>

</section>
<section id="con-count">
<h3>con_count<a class="headerlink" href="#con-count" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.con_count">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">con_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via_pd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.con_count" title="Permalink to this definition"></a></dt>
<dd><p>计算series(pd.Series)中连续满足func_cond函数指定的条件的记录数</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>pd.Series</em>) – 目标序列</p></li>
<li><p><strong>func_cond</strong> (<em>function</em>) – 指定条件的函数，func_cond(x)返回结果只能为True或False</p></li>
<li><p><strong>via_pd</strong> (<em>bool</em>) – 若via_pd为False，则计算时使用循环迭代，否则在pandas.DataFrame里面进行计算</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>pd.Series</cite> - 返回连续计数结果</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;series&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_cond</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;count1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">con_count</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;series&#39;</span><span class="p">],</span> <span class="n">func_cond</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   series  count1</span>
<span class="go">0       0       0</span>
<span class="go">1       0       0</span>
<span class="go">2       1       1</span>
<span class="go">3       1       2</span>
<span class="go">4       0       0</span>
<span class="go">5       0       0</span>
<span class="go">6       1       1</span>
<span class="go">7       1       2</span>
<span class="go">8       1       3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;count0&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">con_count</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;series&#39;</span><span class="p">],</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   series  count1  count0</span>
<span class="go">0       0       0       1</span>
<span class="go">1       0       0       2</span>
<span class="go">2       1       1       0</span>
<span class="go">3       1       2       0</span>
<span class="go">4       0       0       1</span>
<span class="go">5       0       0       2</span>
<span class="go">6       1       1       0</span>
<span class="go">7       1       2       0</span>
<span class="go">8       1       3       0</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="con-count-ignore">
<h3>con_count_ignore<a class="headerlink" href="#con-count-ignore" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.con_count_ignore">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">con_count_ignore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via_pd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.con_count_ignore" title="Permalink to this definition"></a></dt>
<dd><p>在 <a class="reference internal" href="#dramkit.gentools.con_count" title="dramkit.gentools.con_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.con_count()</span></code></a> 的基础上增加连续性判断条件:</p>
<blockquote>
<div><p>当series中的值满足func_ignore函数值为True时，不影响连续性判断(func_ignore
默认为 <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">isnull(x)</span></code>)</p>
</div></blockquote>
</dd></dl>

</section>
<section id="get-preval-func-cond">
<h3>get_preval_func_cond<a class="headerlink" href="#get-preval-func-cond" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_preval_func_cond">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_preval_func_cond</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_cond</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_preval_func_cond" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取上一个满足指定条件的行中col_val列的值，条件为：</div>
<div class="line">该行中col_cond列的值x满足func_cond(x)为True (func_cond(x)返回结果只能为True或False)</div>
<div class="line">返回结果为 <cite>pd.Series</cite></div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="s1">&#39;x2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;x1_pre&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_preval_func_cond</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">    x1  x2  x1_pre</span>
<span class="go">0    0   0     NaN</span>
<span class="go">1    1   1     0.0</span>
<span class="go">2    1   1     0.0</span>
<span class="go">3    0   0     0.0</span>
<span class="go">4   -1  -1     0.0</span>
<span class="go">5   -1  -1    -1.0</span>
<span class="go">6    2   1    -1.0</span>
<span class="go">7   -1  -1    -1.0</span>
<span class="go">8    1   1    -1.0</span>
<span class="go">9    0   0    -1.0</span>
<span class="go">10   1   1     0.0</span>
<span class="go">11   1   1     0.0</span>
<span class="go">12   1   1     0.0</span>
<span class="go">13   0   0     0.0</span>
<span class="go">14   0   0     0.0</span>
<span class="go">15  -1  -1     0.0</span>
<span class="go">16  -1  -1    -1.0</span>
<span class="go">17   0   0    -1.0</span>
<span class="go">18   0   0     0.0</span>
<span class="go">19   1   1     0.0</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="gap-count">
<h3>gap_count<a class="headerlink" href="#gap-count" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.gap_count">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">gap_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via_pd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.gap_count" title="Permalink to this definition"></a></dt>
<dd><p>计算series (<cite>pd.Series</cite>)中当前行距离上一个满足 <code class="docutils literal notranslate"><span class="pre">func_cond</span></code> 函数指定条件记录的行数</p>
<p>func_cond为指定条件的函数，func_cond(x)返回结果只能为True或False，
若via_pd为False，则使用循环迭代，若via_pd为True，则在pandas.DataFrme内计算
返回结果为 <cite>pd.Series</cite></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;series&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_cond</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span> <span class="k">else</span> <span class="kc">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gap1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gap_count</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;series&#39;</span><span class="p">],</span> <span class="n">func_cond</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   series  gap1</span>
<span class="go">0       0     0</span>
<span class="go">1       1     0</span>
<span class="go">2       1     1</span>
<span class="go">3       0     1</span>
<span class="go">4       0     2</span>
<span class="go">5       1     3</span>
<span class="go">6       1     1</span>
<span class="go">7       1     1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gap0&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gap_count</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;series&#39;</span><span class="p">],</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   series  gap1  gap0</span>
<span class="go">0       0     0     0</span>
<span class="go">1       1     0     1</span>
<span class="go">2       1     1     2</span>
<span class="go">3       0     1     3</span>
<span class="go">4       0     2     1</span>
<span class="go">5       1     3     1</span>
<span class="go">6       1     1     2</span>
<span class="go">7       1     1     3</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="count-between-gap">
<h3>count_between_gap<a class="headerlink" href="#count-between-gap" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.count_between_gap">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">count_between_gap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via_pd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.count_between_gap" title="Permalink to this definition"></a></dt>
<dd><p>计算data (<cite>pandas.DataFrame</cite>)中当前行与上一个满足 <code class="docutils literal notranslate"><span class="pre">func_gap</span></code> 函数为True的行之间，
满足 <code class="docutils literal notranslate"><span class="pre">func_count</span></code> 函数为True的记录数</p>
<div class="line-block">
<div class="line">函数func_gap作用于 <code class="docutils literal notranslate"><span class="pre">col_gap</span></code> 列，func_count作用于 <code class="docutils literal notranslate"><span class="pre">col_count</span></code> 列，
两者返回值均为True或False</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">count_now_gap</span></code> 设置满足func_gap的行是否参与计数，若为False，
则该行计数为0，若为True，则该行按照上一次计数的最后一次计数处理</div>
</div>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>增加count_now_gap的处理方式：</p>
<ul class="simple">
<li><p>该行计数为0</p></li>
<li><p>该行按上一次计数的最后一次计数处理</p></li>
<li><p>该行按下一次计数的第一次计数处理</p></li>
</ul>
</div>
<p><code class="docutils literal notranslate"><span class="pre">count_now</span></code> 设置当当前行满足func_count时，从当前行开始对其计数还是从下一行开始对其计数</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>注：当前行若满足同时满足func_gap和func_count，对其计数的行不会为下一行
(即要么不计数，要么在当前行对其计数)</p>
</div>
<p>若via_pd为True，则调用 <a class="reference internal" href="#dramkit.gentools.count_between_gap_pd" title="dramkit.gentools.count_between_gap_pd"><code class="xref py py-func docutils literal notranslate"><span class="pre">count_between_gap_pd()</span></code></a> 实现，否则用 <a class="reference internal" href="#dramkit.gentools.count_between_gap_iter" title="dramkit.gentools.count_between_gap_iter"><code class="xref py py-func docutils literal notranslate"><span class="pre">count_between_gap_iter()</span></code></a></p>
<p>返回结果为 <cite>pd.Series</cite></p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;to_gap&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="s1">&#39;to_count&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;gap_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">count_between_gap</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;to_gap&#39;</span><span class="p">,</span> <span class="s1">&#39;to_count&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                      <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                                      <span class="n">count_now_gap</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">count_now</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">        to_gap  to_count  gap_count</span>
<span class="go">0        0         0          0</span>
<span class="go">1        1         1          0</span>
<span class="go">2        1         1          0</span>
<span class="go">3        0         0          0</span>
<span class="go">4       -1        -1          0</span>
<span class="go">5       -1        -1          0</span>
<span class="go">6        2         1          0</span>
<span class="go">7       -1        -1          0</span>
<span class="go">8        1         1          0</span>
<span class="go">9        0         0          1</span>
<span class="go">10      -1         1          0</span>
<span class="go">11       1         1          0</span>
<span class="go">12       1         1          1</span>
<span class="go">13       0         0          2</span>
<span class="go">14       0         0          2</span>
<span class="go">15      -1        -1          0</span>
<span class="go">16      -1        -1          0</span>
<span class="go">17       0         0          0</span>
<span class="go">18       0         0          0</span>
<span class="go">19       1         1          0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;to_gap&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="go">                                    1, 0, 0, -1, -1, 0, 0, 1, -1, -1],</span>
<span class="go">                         &#39;to_count&#39;: [0, 1, 1, 0, -1, -1, 1, -1, 1, 0, 1,</span>
<span class="go">                                      1, 1, 0, 0, -1, 1, 0, 1, 1, 1, 1]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;gap_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">count_between_gap</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;to_gap&#39;</span><span class="p">,</span> <span class="s1">&#39;to_count&#39;</span><span class="p">,</span>
<span class="go">                                          lambda x: x == -1, lambda x: x == 1,</span>
<span class="go">                                          count_now_gap=False, count_now=True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">        to_gap  to_count  gap_count</span>
<span class="go">0        0         0          0</span>
<span class="go">1        1         1          0</span>
<span class="go">2        1         1          0</span>
<span class="go">3        0         0          0</span>
<span class="go">4       -1        -1          0</span>
<span class="go">5       -1        -1          0</span>
<span class="go">6        2         1          1</span>
<span class="go">7       -1        -1          0</span>
<span class="go">8        1         1          1</span>
<span class="go">9        0         0          1</span>
<span class="go">10      -1         1          0</span>
<span class="go">11       1         1          1</span>
<span class="go">12       1         1          2</span>
<span class="go">13       0         0          2</span>
<span class="go">14       0         0          2</span>
<span class="go">15      -1        -1          0</span>
<span class="go">16      -1         1          0</span>
<span class="go">17       0         0          0</span>
<span class="go">18       0         1          1</span>
<span class="go">19       1         1          2</span>
<span class="go">20      -1         1          0</span>
<span class="go">21      -1         1          0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;to_gap&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="go">                                    1, 0, 0, -1, -1, 0, 0, 1, -1, -1],</span>
<span class="go">                         &#39;to_count&#39;: [0, -1, -1, 0, -1, -1, 1, -1, 1, 0, 1, 1,</span>
<span class="go">                                      1, 0, 0, -1, -1, 0, -1, 1, 1, 1]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;gap_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">count_between_gap</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;to_gap&#39;</span><span class="p">,</span> <span class="s1">&#39;to_count&#39;</span><span class="p">,</span>
<span class="go">                                          lambda x: x == -1, lambda x: x == 1,</span>
<span class="go">                                          count_now_gap=True, count_now=False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">        to_gap  to_count  gap_count</span>
<span class="go">0        0         0          0</span>
<span class="go">1        1        -1          0</span>
<span class="go">2        1        -1          0</span>
<span class="go">3        0         0          0</span>
<span class="go">4       -1        -1          0</span>
<span class="go">5       -1        -1          0</span>
<span class="go">6        2         1          0</span>
<span class="go">7       -1        -1          1</span>
<span class="go">8        1         1          0</span>
<span class="go">9        0         0          1</span>
<span class="go">10      -1         1          1</span>
<span class="go">11       1         1          0</span>
<span class="go">12       1         1          1</span>
<span class="go">13       0         0          2</span>
<span class="go">14       0         0          2</span>
<span class="go">15      -1        -1          2</span>
<span class="go">16      -1        -1          0</span>
<span class="go">17       0         0          0</span>
<span class="go">18       0        -1          0</span>
<span class="go">19       1         1          0</span>
<span class="go">20      -1         1          1</span>
<span class="go">21      -1         1          0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;to_gap&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="go">                                    1, 0, 0, -1, -1, 0, 0, 1, -1, -1],</span>
<span class="go">                         &#39;to_count&#39;: [0, -1, -1, 0, -1, -1, 1, -1, 1, 0, 1, 1,</span>
<span class="go">                                      1, 0, 0, -1, -1, 0, -1, 1, 1, 1]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;gap_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">count_between_gap</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;to_gap&#39;</span><span class="p">,</span> <span class="s1">&#39;to_count&#39;</span><span class="p">,</span>
<span class="go">                                          lambda x: x == -1, lambda x: x == 1,</span>
<span class="go">                                          count_now_gap=True, count_now=True)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">        to_gap  to_count  gap_count</span>
<span class="go">0        0         0          0</span>
<span class="go">1        1        -1          0</span>
<span class="go">2        1        -1          0</span>
<span class="go">3        0         0          0</span>
<span class="go">4       -1        -1          0</span>
<span class="go">5       -1        -1          0</span>
<span class="go">6        2         1          1</span>
<span class="go">7       -1        -1          1</span>
<span class="go">8        1         1          1</span>
<span class="go">9        0         0          1</span>
<span class="go">10      -1         1          2</span>
<span class="go">11       1         1          1</span>
<span class="go">12       1         1          2</span>
<span class="go">13       0         0          2</span>
<span class="go">14       0         0          2</span>
<span class="go">15      -1        -1          2</span>
<span class="go">16      -1        -1          0</span>
<span class="go">17       0         0          0</span>
<span class="go">18       0        -1          0</span>
<span class="go">19       1         1          1</span>
<span class="go">20      -1         1          2</span>
<span class="go">21      -1         1          1</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="count-between-gap-pd">
<h3>count_between_gap_pd<a class="headerlink" href="#count-between-gap-pd" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.count_between_gap_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">count_between_gap_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.count_between_gap_pd" title="Permalink to this definition"></a></dt>
<dd><p>参数和功能说明见 <a class="reference internal" href="#dramkit.gentools.count_between_gap" title="dramkit.gentools.count_between_gap"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.count_between_gap()</span></code></a> 函数</p>
</dd></dl>

</section>
<section id="count-between-gap-iter">
<h3>count_between_gap_iter<a class="headerlink" href="#count-between-gap-iter" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.count_between_gap_iter">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">count_between_gap_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.count_between_gap_iter" title="Permalink to this definition"></a></dt>
<dd><p>参数和功能说明见 <a class="reference internal" href="#dramkit.gentools.count_between_gap" title="dramkit.gentools.count_between_gap"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.count_between_gap()</span></code></a> 函数</p>
</dd></dl>

</section>
<section id="val-gap-cond">
<h3>val_gap_cond<a class="headerlink" href="#val-gap-cond" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.val_gap_cond">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">val_gap_cond</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_cal_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_to_cal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contain_1st</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.val_gap_cond" title="Permalink to this definition"></a></dt>
<dd><p>计算data (<cite>pandas.DataFrame</cite>)中从上一个 <code class="docutils literal notranslate"><span class="pre">col_cond</span></code> 列满足 <code class="docutils literal notranslate"><span class="pre">func_cond</span></code> 函数的行
到当前行, <code class="docutils literal notranslate"><span class="pre">col_val</span></code> 列记录的 <code class="docutils literal notranslate"><span class="pre">func_val</span></code> 函数值</p>
<div class="line-block">
<div class="line">func_cond作用于col_cond列，func_cond(x)返回True或False，x为单个值</div>
<div class="line">func_val函数作用于col_val列，func_val(x)返回单个值，x为np.array或pd.Series或列表等</div>
<div class="line">func_to_cal作用于to_cal_col列，只有当前行func_to_cal值为True时才进行func_val计算，
否则返回结果中当前行值设置为val_nan</div>
<div class="line">contain_1st设置func_val函数计算时是否将上一个满足func_cond的行也纳入计算</div>
</div>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>参考 <a class="reference internal" href="#dramkit.gentools.count_between_gap" title="dramkit.gentools.count_between_gap"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.count_between_gap()</span></code></a> 的设置:</p>
<ul class="simple">
<li><p>设置col_cond列满足func_cond函数的行，其参与func_val函数的前一次计算还是下一次计算还是不参与计算</p></li>
</ul>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span> <span class="p">,</span><span class="mi">9</span><span class="p">],</span>
<span class="gp">... </span>                     <span class="s1">&#39;sig&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;val_pre1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">val_gap_cond</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;val&#39;</span><span class="p">,</span> <span class="s1">&#39;sig&#39;</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span>
<span class="go">   val  sig  val_pre1</span>
<span class="go">0    1    1       NaN</span>
<span class="go">1    2    1       NaN</span>
<span class="go">2    5   -1       NaN</span>
<span class="go">3    3    1       3.0</span>
<span class="go">4    1    1       3.0</span>
<span class="go">5    7   -1       7.0</span>
<span class="go">6    9    1       9.0</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="filter-by-func-prenext">
<h3>filter_by_func_prenext<a class="headerlink" href="#filter-by-func-prenext" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.filter_by_func_prenext">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">filter_by_func_prenext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_prenext</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.filter_by_func_prenext" title="Permalink to this definition"></a></dt>
<dd><p>对 <code class="docutils literal notranslate"><span class="pre">l</span></code> (<cite>list</cite>)进行过滤，过滤后返回的 <code class="docutils literal notranslate"><span class="pre">lnew</span></code> (<cite>list</cite>)任意前后相邻两个元素满足:</p>
<blockquote>
<div><p>func_prenext(lnew[i], lnew[i+1]) = True</p>
</div></blockquote>
<p>过滤过程为：将 <code class="docutils literal notranslate"><span class="pre">l</span></code> 的第一个元素作为起点，找到其后第一个满足 <code class="docutils literal notranslate"><span class="pre">func_prenext</span></code> 函数
值为True的元素，再以该元素为起点往后寻找…</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_prenext</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_by_func_prenext</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">func_prenext</span><span class="p">)</span>
<span class="go">[1, 3, 6]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_by_func_prenext</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">func_prenext</span><span class="p">)</span>
<span class="go">[1, 3, 5]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_by_func_prenext</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">y</span> <span class="o">==</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1, 2, 3, 4]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_prenext</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">abs</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_by_func_prenext</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">func_prenext</span><span class="p">)</span>
<span class="go">[(1, 2), (2, 3)]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="filter-by-func-prenext-series">
<h3>filter_by_func_prenext_series<a class="headerlink" href="#filter-by-func-prenext-series" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.filter_by_func_prenext_series">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">filter_by_func_prenext_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_prenext</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.filter_by_func_prenext_series" title="Permalink to this definition"></a></dt>
<dd><p>对series (<cite>pandas.Series</cite>)调用 <code class="docutils literal notranslate"><span class="pre">filter_by_func_prenext</span></code> 函数进行过滤，
其中满足 <code class="docutils literal notranslate"><span class="pre">func_ignore</span></code> 函数为True的值不参与过滤，func_ignore函数默认为：
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">isnull(x)</span></code></p>
<p>series中 <strong>被过滤的值</strong> 在返回结果中用 <code class="docutils literal notranslate"><span class="pre">val_nan</span></code> 替换, <strong>不参与过滤</strong> 的值保持不变</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#dramkit.gentools.filter_by_func_prenext" title="dramkit.gentools.filter_by_func_prenext"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.gentools.filter_by_func_prenext()</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_prenext</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_by_func_prenext_series</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">func_prenext</span><span class="p">)</span>
<span class="go">0    1.0</span>
<span class="go">1    NaN</span>
<span class="go">2    3.0</span>
<span class="go">3    NaN</span>
<span class="go">4    NaN</span>
<span class="go">5    NaN</span>
<span class="go">6    NaN</span>
<span class="go">7    NaN</span>
<span class="go">8    6.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filter_by_func_prenext_series</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">func_prenext</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">14    1.0</span>
<span class="go">13    NaN</span>
<span class="go">12    0.0</span>
<span class="go">11    3.0</span>
<span class="go">10    0.0</span>
<span class="go">9     NaN</span>
<span class="go">8     0.0</span>
<span class="go">7     NaN</span>
<span class="go">6     0.0</span>
<span class="go">5     0.0</span>
<span class="go">4     NaN</span>
<span class="go">3     NaN</span>
<span class="go">2     NaN</span>
<span class="go">1     6.0</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="df-na2value">
<h3>df_na2value<a class="headerlink" href="#df-na2value" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.df_na2value">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">df_na2value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.df_na2value" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">df中nan值替换为value</div>
<div class="line"><a class="reference external" href="https://blog.csdn.net/Shone1214/article/details/125968784">https://blog.csdn.net/Shone1214/article/details/125968784</a></div>
</div>
</dd></dl>

</section>
<section id="copy-df-structure">
<h3>copy_df_structure<a class="headerlink" href="#copy-df-structure" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.copy_df_structure">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">copy_df_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.copy_df_structure" title="Permalink to this definition"></a></dt>
<dd><p>复制df的结构到一个空的dataframe</p>
</dd></dl>

</section>
<section id="get-tmp-new">
<h3>get_tmp_new<a class="headerlink" href="#get-tmp-new" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_tmp_new">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_tmp_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exists</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_tmp_new" title="Permalink to this definition"></a></dt>
<dd><p>以tmp_new为基础生成一个不在exists的值</p>
</dd></dl>

</section>
<section id="get-tmp-col">
<h3>get_tmp_col<a class="headerlink" href="#get-tmp-col" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_tmp_col">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_tmp_col</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_col_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_tmp_col" title="Permalink to this definition"></a></dt>
<dd><p>以tmp_col_name为基础生成一个不在df的列名中的列</p>
</dd></dl>

</section>
<section id="merge-df">
<h3>merge_df<a class="headerlink" href="#merge-df" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.merge_df">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">merge_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">same_keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.merge_df" title="Permalink to this definition"></a></dt>
<dd><p>在 <code class="docutils literal notranslate"><span class="pre">pd.merge</span></code> 上改进，相同列名时自动去除重复的</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_left</strong> (<em>pandas.DataFrame</em>) – 待merge左表</p></li>
<li><p><strong>df_right</strong> (<em>pandas.DataFrame</em>) – 待merge右表</p></li>
<li><p><strong>same_keep</strong> (<em>str</em>) – 可选’left’, ‘right’，设置相同列保留左边df还是右边df</p></li>
<li><p><strong>**kwargs</strong> – pd.merge接受的其他参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite> - 返回merge之后的数据表</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="update-df">
<h3>update_df<a class="headerlink" href="#update-df" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.update_df">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">update_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idcols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_dup_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep_keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'new'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascendings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'merge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.update_df" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">合并df_new到df_old</div>
<div class="line">注意：df_old和df_new不应该设置index</div>
<div class="line">注意：用merge处理当数据量大时占空间很大，method应设置为`concat`</div>
</div>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>增加对各列的类型进行指定的参数设置</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df_old</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;id1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;id2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;col1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;col2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_new</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;id1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;id2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;col1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;ddd&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">],</span>
<span class="gp">... </span>                       <span class="s1">&#39;col3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">]})</span>
<span class="gp">... </span><span class="n">idcols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id1&#39;</span><span class="p">,</span> <span class="s1">&#39;id2&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="n">rep_keep</span> <span class="o">=</span> <span class="s1">&#39;new&#39;</span>
<span class="gp">... </span><span class="n">del_dup_cols</span> <span class="o">=</span> <span class="kc">None</span><span class="c1">#[&#39;id1&#39;, &#39;id2&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">update_df</span><span class="p">(</span><span class="n">df_old</span><span class="p">,</span> <span class="n">df_new</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">idcols</span><span class="o">=</span><span class="n">idcols</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">del_dup_cols</span><span class="o">=</span><span class="n">del_dup_cols</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">rep_keep</span><span class="o">=</span><span class="n">rep_keep</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">method</span><span class="o">=</span><span class="s1">&#39;merge&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">update_df</span><span class="p">(</span><span class="n">df_old</span><span class="p">,</span> <span class="n">df_new</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">idcols</span><span class="o">=</span><span class="n">idcols</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">del_dup_cols</span><span class="o">=</span><span class="n">del_dup_cols</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">rep_keep</span><span class="o">=</span><span class="n">rep_keep</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">method</span><span class="o">=</span><span class="s1">&#39;concat&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="dfs-concat-axis1">
<h3>dfs_concat_axis1<a class="headerlink" href="#dfs-concat-axis1" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.dfs_concat_axis1">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">dfs_concat_axis1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dfs_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idcols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.dfs_concat_axis1" title="Permalink to this definition"></a></dt>
<dd><p>多个df列表横向拼接</p>
</dd></dl>

</section>
<section id="cut-df-by-con-val">
<h3>cut_df_by_con_val<a class="headerlink" href="#cut-df-by-con-val" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.cut_df_by_con_val">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">cut_df_by_con_val</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_eq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.cut_df_by_con_val" title="Permalink to this definition"></a></dt>
<dd><p>根据 <cite>by_col</cite> 列的值，将 <cite>df (pandas.DataFrame)</cite> 切分为多个子集列表，返回 <cite>list</cite></p>
<p>切分依据：<code class="docutils literal notranslate"><span class="pre">func_eq</span></code> 函数作用于 <code class="docutils literal notranslate"><span class="pre">by_col</span></code> 列，函数值连续相等的记录被划分到一个子集中</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;val&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span>
<span class="gp">... </span>                   <span class="s1">&#39;by_col&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">1</span><span class="o">+</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;q&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cut_df_by_con_val</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;by_col&#39;</span><span class="p">)</span>
<span class="go">[   val by_col</span>
<span class="go"> z    0      a</span>
<span class="go"> y    1      a</span>
<span class="go"> x    2      a,</span>
<span class="go">    val by_col</span>
<span class="go"> w    3      b</span>
<span class="go"> v    4      b,</span>
<span class="go">    val by_col</span>
<span class="go"> u    5      c,</span>
<span class="go">    val by_col</span>
<span class="go"> t    6      a</span>
<span class="go"> s    7      a</span>
<span class="go"> r    8      a,</span>
<span class="go">    val by_col</span>
<span class="go"> q    9      d]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="get-con-start-end">
<h3>get_con_start_end<a class="headerlink" href="#get-con-start-end" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_con_start_end">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_con_start_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_con</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_con_start_end" title="Permalink to this definition"></a></dt>
<dd><p>找出series (<cite>pandas.Series</cite>)中值连续满足 <code class="docutils literal notranslate"><span class="pre">func_con</span></code> 函数值为True的分段起止位置，
返回起止位置对列表</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_ends</span> <span class="o">=</span> <span class="n">get_con_start_end</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_ends</span>
<span class="go">[[7, 8], [11, 11], [17, 17]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_ends</span> <span class="o">=</span> <span class="n">get_con_start_end</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">start_ends</span>
<span class="go">[[1, 2], [4, 5], [12, 15]]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="cut-range-to-subs">
<h3>cut_range_to_subs<a class="headerlink" href="#cut-range-to-subs" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.cut_range_to_subs">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">cut_range_to_subs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.cut_range_to_subs" title="Permalink to this definition"></a></dt>
<dd><p>将 <code class="docutils literal notranslate"><span class="pre">range(0,</span> <span class="pre">n)</span></code> 切分成连续相接的子集:
<code class="docutils literal notranslate"><span class="pre">[range(0,</span> <span class="pre">gap),</span> <span class="pre">range(gap,</span> <span class="pre">2*gap),</span> <span class="pre">...]</span></code></p>
</dd></dl>

</section>
<section id="cut-to-subs">
<h3>cut_to_subs<a class="headerlink" href="#cut-to-subs" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.cut_to_subs">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">cut_to_subs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.cut_to_subs" title="Permalink to this definition"></a></dt>
<dd><p>将列表分段，gap指定每段的个数</p>
</dd></dl>

</section>
<section id="check-l-allin-l0">
<h3>check_l_allin_l0<a class="headerlink" href="#check-l-allin-l0" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.check_l_allin_l0">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">check_l_allin_l0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.check_l_allin_l0" title="Permalink to this definition"></a></dt>
<dd><p>判断 <code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">(list)</span></code> 中的值是否都是 <code class="docutils literal notranslate"><span class="pre">l0</span> <span class="pre">(list)</span></code> 中的元素, 返回True或False</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_l_allin_l0</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">l0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l0</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_l_in_l0</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">l0</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="check-exist-data">
<h3>check_exist_data<a class="headerlink" href="#check-exist-data" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.check_exist_data">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">check_exist_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.check_exist_data" title="Permalink to this definition"></a></dt>
<dd><p>依据指定的 <code class="docutils literal notranslate"><span class="pre">cols</span></code> 列检查 <code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">(pandas.DataFrame)</span></code> 中是否已经存在 <code class="docutils literal notranslate"><span class="pre">x_list</span> <span class="pre">(list)</span></code> 中的记录，
返回list，每个元素值为True或False</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">3.1</span><span class="p">,</span> <span class="p">],</span> <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">5.1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mf">7.1</span><span class="p">]],</span>
<span class="gp">... </span>                  <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x_list</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_exist_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">x_list</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span>
<span class="go">[False, True]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">check_exist_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="mf">3.1</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="mf">5.1</span><span class="p">]],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="go">[True, True]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="isnull">
<h3>isnull<a class="headerlink" href="#isnull" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.isnull">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">isnull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.isnull" title="Permalink to this definition"></a></dt>
<dd><p>判断x是否为无效值(None, nan, x != x)，若是无效值，返回True，否则返回False</p>
</dd></dl>

</section>
<section id="x-div-y">
<h3>x_div_y<a class="headerlink" href="#x-div-y" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.x_div_y">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">x_div_y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_y0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_xy0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.x_div_y" title="Permalink to this definition"></a></dt>
<dd><p>x除以y</p>
<ul class="simple">
<li><p>v_xy0为当x和y同时为0时的返回值</p></li>
<li><p>v_y0为当y等于0时的返回值</p></li>
<li><p>v_x0为当x等于0时的返回值</p></li>
</ul>
</dd></dl>

</section>
<section id="power">
<h3>power<a class="headerlink" href="#power" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.power">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_real</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.power" title="Permalink to this definition"></a></dt>
<dd><p>计算a的b次方，return_real设置是否只返回实属部分</p>
</dd></dl>

</section>
<section id="log">
<h3>log<a class="headerlink" href="#log" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.log">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.log" title="Permalink to this definition"></a></dt>
<dd><p>计算对数, bottom指定底</p>
</dd></dl>

</section>
<section id="cal-pct">
<h3>cal_pct<a class="headerlink" href="#cal-pct" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.cal_pct">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">cal_pct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vv00</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vv10</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.cal_pct" title="Permalink to this definition"></a></dt>
<dd><p>计算从v0到v1的百分比变化</p>
<ul class="simple">
<li><p>vv00为当v0的值为0且v1为正时的返回值，v1为负时取负号</p></li>
<li><p>vv10为当v1的值为0且v0为正时的返回值，v0为负时取负号</p></li>
</ul>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>正负无穷大处理</p>
</div>
</dd></dl>

</section>
<section id="pct-change">
<h3>pct_change<a class="headerlink" href="#pct-change" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.pct_change">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">pct_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.pct_change" title="Permalink to this definition"></a></dt>
<dd><p>计算series百分比变化</p>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<p>分子分母为0或正负无穷大处理</p>
</div>
</dd></dl>

</section>
<section id="s1divs2">
<h3>s1divs2<a class="headerlink" href="#s1divs2" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.s1divs2">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">s1divs2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vs20</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.s1divs2" title="Permalink to this definition"></a></dt>
<dd><p>两个序列相比</p>
</dd></dl>

</section>
<section id="min-com-multer">
<h3>min_com_multer<a class="headerlink" href="#min-com-multer" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.min_com_multer">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">min_com_multer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.min_com_multer" title="Permalink to this definition"></a></dt>
<dd><p>求一列数 <cite>l (list)</cite> 的最小公倍数，支持负数和浮点数</p>
</dd></dl>

</section>
<section id="max-com-divisor">
<h3>max_com_divisor<a class="headerlink" href="#max-com-divisor" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.max_com_divisor">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">max_com_divisor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.max_com_divisor" title="Permalink to this definition"></a></dt>
<dd><p>求一列数 <cite>l (list)</cite> 的最大公约数，只支持正整数</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>只支持正整数</p>
</div>
</dd></dl>

</section>
<section id="mcd2-tad">
<h3>mcd2_tad<a class="headerlink" href="#mcd2-tad" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.mcd2_tad">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">mcd2_tad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.mcd2_tad" title="Permalink to this definition"></a></dt>
<dd><p>辗转相除法求a和b的最大公约数，a、b为正数</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>a, b应为正数</p></li>
<li><p>a, b为小数时由于精度问题会不正确</p></li>
</ul>
</div>
</dd></dl>

</section>
<section id="max-com-divisor-tad">
<h3>max_com_divisor_tad<a class="headerlink" href="#max-com-divisor-tad" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.max_com_divisor_tad">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">max_com_divisor_tad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.max_com_divisor_tad" title="Permalink to this definition"></a></dt>
<dd><p>用辗转相除法求一列数 <cite>l (list)</cite> 的最大公约数, <cite>l</cite> 元素均为正数</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>l元素均为正数</p></li>
<li><p>l元素为小数时由于精度问题会不正确</p></li>
</ul>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://blog.csdn.net/weixin_45069761/article/details/107954905">https://blog.csdn.net/weixin_45069761/article/details/107954905</a></p>
</dd></dl>

</section>
<section id="df-rows2cols">
<h3>df_rows2cols<a class="headerlink" href="#df-rows2cols" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.df_rows2cols">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">df_rows2cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_val_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.df_rows2cols" title="Permalink to this definition"></a></dt>
<dd><p>把df中col_value_name列数据按col_name列分组，通过unstack拆分为多列数据，新列名为col_name列中的值</p>
<div class="admonition-todo admonition" id="id7">
<p class="admonition-title">Todo</p>
<p>有nan时的检查和处理</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>        <span class="p">[[</span><span class="s1">&#39;Saliy&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class1&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Saliy&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class3&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Saliy&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class1&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Saliy&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class3&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Jeff&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class2&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Jeff&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class4&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Jeff&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class2&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Jeff&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class4&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Roger&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class2&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Roger&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class5&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Roger&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class2&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Roger&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class5&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Karen&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class3&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Karen&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class4&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Karen&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class3&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Karen&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class4&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Brain&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class1&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Brain&#39;</span><span class="p">,</span> <span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;class5&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Brain&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class1&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;Brain&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">,</span> <span class="s1">&#39;class5&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]],</span>
<span class="gp">... </span>        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_name</span><span class="p">,</span> <span class="n">col_val_name</span> <span class="o">=</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;grade&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">df_rows2cols</span><span class="p">(</span><span class="n">df0</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_val_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df2</span> <span class="o">=</span> <span class="n">df_rows2cols</span><span class="p">(</span><span class="n">df0</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_val_name</span><span class="p">,</span>
<span class="go">                       fill_value=&#39;None&#39;)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="df-cols2rows">
<h3>df_cols2rows<a class="headerlink" href="#df-cols2rows" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.df_cols2rows">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">df_cols2rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_val_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dropna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.df_cols2rows" title="Permalink to this definition"></a></dt>
<dd><p>把df中指定的cols列数据通过stack堆积为行数据，新列名为col_name</p>
<div class="admonition-todo admonition" id="id8">
<p class="admonition-title">Todo</p>
<p>有nan时的检查和处理</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">na</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df3</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Saliy&#39;</span><span class="p">,</span> <span class="s1">&#39;Saliy&#39;</span><span class="p">,</span> <span class="s1">&#39;Jeff&#39;</span><span class="p">,</span> <span class="s1">&#39;Jeff&#39;</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="s1">&#39;Roger&#39;</span><span class="p">,</span> <span class="s1">&#39;Roger&#39;</span><span class="p">,</span> <span class="s1">&#39;Karen&#39;</span><span class="p">,</span> <span class="s1">&#39;Karen&#39;</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="s1">&#39;Brain&#39;</span><span class="p">,</span> <span class="s1">&#39;Brain&#39;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="s1">&#39;test&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;midterm&#39;</span><span class="p">,</span> <span class="s1">&#39;final&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s1">&#39;class1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">na</span><span class="o">*</span><span class="mi">6</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="s1">&#39;class2&#39;</span><span class="p">:</span> <span class="n">na</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">na</span><span class="o">*</span><span class="mi">4</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s1">&#39;class3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">na</span><span class="o">*</span><span class="mi">4</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">na</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s1">&#39;class4&#39;</span><span class="p">:</span> <span class="n">na</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">na</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">na</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="s1">&#39;class5&#39;</span><span class="p">:</span> <span class="n">na</span><span class="o">*</span><span class="mi">4</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">na</span><span class="o">*</span><span class="mi">2</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;class</span><span class="si">%s</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_name</span> <span class="o">=</span> <span class="s1">&#39;class&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col_val_name</span> <span class="o">=</span> <span class="s1">&#39;grade&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df4</span> <span class="o">=</span> <span class="n">df_cols2rows</span><span class="p">(</span><span class="n">df3</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_val_name</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df5</span> <span class="o">=</span> <span class="n">df_cols2rows</span><span class="p">(</span><span class="n">df3</span><span class="p">,</span> <span class="n">cols</span><span class="p">,</span> <span class="n">col_name</span><span class="p">,</span> <span class="n">col_val_name</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="get-full-df">
<h3>get_full_df<a class="headerlink" href="#get-full-df" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_full_df">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_full_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idcols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vcols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val_nan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">FillMethodType</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ffill'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_dropna</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_fulls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FullMethodType</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'pivot'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_full_df" title="Permalink to this definition"></a></dt>
<dd><p>df中full_col列的值扩充到fulls</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="s1">&#39;x3&#39;</span><span class="p">,</span> <span class="s1">&#39;x4&#39;</span><span class="p">,</span> <span class="s1">&#39;x4&#39;</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;y1&#39;</span><span class="p">,</span> <span class="s1">&#39;y2&#39;</span><span class="p">,</span> <span class="s1">&#39;y3&#39;</span><span class="p">,</span> <span class="s1">&#39;y4&#39;</span><span class="p">,</span> <span class="s1">&#39;y4&#39;</span><span class="p">],</span>
<span class="gp">... </span>                   <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;z1&#39;</span><span class="p">,</span> <span class="s1">&#39;z1&#39;</span><span class="p">,</span> <span class="s1">&#39;z5&#39;</span><span class="p">,</span> <span class="s1">&#39;z7&#39;</span><span class="p">,</span> <span class="s1">&#39;z9&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_full_df</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_full_df</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">idcols</span><span class="o">=</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;product&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_full_df</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">idcols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;product&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_full_df</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">idcols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;z1&#39;</span><span class="p">,</span> <span class="s1">&#39;z1&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;z9&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_full_df</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">idcols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">val_nan</span><span class="o">=</span><span class="s1">&#39;npnan&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_full_df</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="n">idcols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">val_nan</span><span class="o">=</span><span class="s1">&#39;npnan&#39;</span><span class="p">,</span> <span class="n">final_dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_full_df</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="n">idcols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">val_nan</span><span class="o">=</span><span class="s1">&#39;npnan&#39;</span><span class="p">,</span> <span class="n">final_dropna</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;product&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="get-full-components-df">
<h3>get_full_components_df<a class="headerlink" href="#get-full-components-df" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_full_components_df">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_full_components_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tincol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toutcol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tfulls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">toutnan</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DateTimeType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tcol_res</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_inout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_full_components_df" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">根据纳入、退出日期获取在给定时间内的所有成分</div>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>     <span class="p">{</span><span class="s1">&#39;idxname&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;stock&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a1&#39;</span><span class="p">,</span> <span class="s1">&#39;a2&#39;</span><span class="p">,</span> <span class="s1">&#39;b1&#39;</span><span class="p">,</span> <span class="s1">&#39;b2&#39;</span><span class="p">,</span> <span class="s1">&#39;a3&#39;</span><span class="p">,</span> <span class="s1">&#39;c1&#39;</span><span class="p">,</span> <span class="s1">&#39;c2&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;indate&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;20210101&#39;</span><span class="p">,</span> <span class="s1">&#39;20210515&#39;</span><span class="p">,</span> <span class="s1">&#39;20210405&#39;</span><span class="p">,</span> <span class="s1">&#39;20210206&#39;</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="s1">&#39;20220307&#39;</span><span class="p">,</span> <span class="s1">&#39;20220910&#39;</span><span class="p">,</span> <span class="s1">&#39;20230409&#39;</span><span class="p">],</span>
<span class="gp">... </span>      <span class="s1">&#39;outdate&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;20220305&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;20230209&#39;</span><span class="p">,</span>
<span class="gp">... </span>                  <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;20230518&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parent_col</span><span class="p">,</span> <span class="n">child_col</span><span class="p">,</span> <span class="n">tincol</span><span class="p">,</span> <span class="n">toutcol</span> <span class="o">=</span> <span class="s1">&#39;idxname&#39;</span><span class="p">,</span> <span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="s1">&#39;indate&#39;</span><span class="p">,</span> <span class="s1">&#39;outdate&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">finfactory.fintools.utils_chn</span> <span class="kn">import</span> <span class="n">get_dates_conds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tfulls</span> <span class="o">=</span> <span class="n">get_dates_conds</span><span class="p">(</span><span class="s1">&#39;quarter_end&#39;</span><span class="p">,</span> <span class="s1">&#39;20210101&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tfulls</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tfulls</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">toutnan</span> <span class="o">=</span> <span class="s1">&#39;20991231&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df1</span> <span class="o">=</span> <span class="n">get_full_components_df</span><span class="p">(</span>
<span class="gp">... </span>      <span class="n">df</span><span class="p">,</span> <span class="n">parent_col</span><span class="p">,</span> <span class="n">child_col</span><span class="p">,</span> <span class="n">tincol</span><span class="p">,</span> <span class="n">toutcol</span><span class="p">,</span>
<span class="gp">... </span>      <span class="n">tfulls</span><span class="p">,</span> <span class="n">toutnan</span><span class="p">,</span> <span class="n">tcol_res</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="get-first-appear">
<h3>get_first_appear<a class="headerlink" href="#get-first-appear" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_first_appear">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_first_appear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_iloc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_first_appear" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取满足func_cond(x)为True的值在series中第一次出现时的索引</div>
<div class="line">若reverse为True，则是最后一次出现</div>
<div class="line">若return_iloc为True，则返回行号和值，否则返回索引和值</div>
</div>
</dd></dl>

</section>
<section id="get-appear-order">
<h3>get_appear_order<a class="headerlink" href="#get-appear-order" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_appear_order">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_appear_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_appear_order" title="Permalink to this definition"></a></dt>
<dd><p>标注series (<cite>pandas.Series</cite> , 离散值)中重复元素是第几次出现，</p>
<p>返回为 <cite>pandas.Series</cite>，ascending设置返回结果是否按出现次序升序排列</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;v&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;nth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_appear_order</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;v&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>
<span class="go">   v  nth</span>
<span class="go">a  A    3</span>
<span class="go">b  B    1</span>
<span class="go">c  A    2</span>
<span class="go">d  A    1</span>
<span class="go">e  C    2</span>
<span class="go">f  C    1</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="label-rep-index-str">
<h3>label_rep_index_str<a class="headerlink" href="#label-rep-index-str" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.label_rep_index_str">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">label_rep_index_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.label_rep_index_str" title="Permalink to this definition"></a></dt>
<dd><p><cite>df (pandas.DataFrame)</cite> 中的index若有重复，对重复的index进行后缀编号，返回新的 <cite>pandas.DataFrame</cite></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>若存在重复的index，则添加后缀编号之后返回的df，其index为str类型</p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label_rep_index_str</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">    0</span>
<span class="go">0   1</span>
<span class="go">1   2</span>
<span class="go">2   3</span>
<span class="go">3   4</span>
<span class="go">4   5</span>
<span class="go">5   6</span>
<span class="go">6   7</span>
<span class="go">7   8</span>
<span class="go">8   9</span>
<span class="go">9  10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">label_rep_index_str</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="go">      0</span>
<span class="go">0     1</span>
<span class="go">0_2   2</span>
<span class="go">0_3   3</span>
<span class="go">1     4</span>
<span class="go">1_2   5</span>
<span class="go">2     6</span>
<span class="go">2_2   7</span>
<span class="go">2_3   8</span>
<span class="go">2_4   9</span>
<span class="go">3    10</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="drop-index-duplicates">
<h3>drop_index_duplicates<a class="headerlink" href="#drop-index-duplicates" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.drop_index_duplicates">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">drop_index_duplicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'first'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.drop_index_duplicates" title="Permalink to this definition"></a></dt>
<dd><p>删除 <code class="docutils literal notranslate"><span class="pre">df</span> <span class="pre">(pandas.DataFrame)</span></code> 中index重复的记录</p>
</dd></dl>

</section>
<section id="count-values">
<h3>count_values<a class="headerlink" href="#count-values" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.count_values">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">count_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.count_values" title="Permalink to this definition"></a></dt>
<dd><p>计算df列中cols指定列的值出现次数</p>
</dd></dl>

</section>
<section id="count-index">
<h3>count_index<a class="headerlink" href="#count-index" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.count_index">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">count_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.count_index" title="Permalink to this definition"></a></dt>
<dd><p>计算df的每个index出现的次数</p>
</dd></dl>

</section>
<section id="get-all-turns">
<h3>get_all_turns<a class="headerlink" href="#get-all-turns" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_all_turns">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_all_turns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_all_turns" title="Permalink to this definition"></a></dt>
<dd><p>获取序列series中所有的转折点，返回series中-1位低点，1位高点</p>
</dd></dl>

</section>
<section id="group-shift">
<h3>group_shift<a class="headerlink" href="#group-shift" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.group_shift">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">group_shift</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.group_shift" title="Permalink to this definition"></a></dt>
<dd><p>分组shift，待实现</p>
</dd></dl>

</section>
<section id="rolling-corr">
<h3>rolling_corr<a class="headerlink" href="#rolling-corr" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.rolling_corr">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">rolling_corr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.rolling_corr" title="Permalink to this definition"></a></dt>
<dd><p>滚动相关性（2个变量）</p>
</dd></dl>

</section>
<section id="group-fillna">
<h3>group_fillna<a class="headerlink" href="#group-fillna" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.group_fillna">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">group_fillna</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_fill</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols_groupby</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_fillna</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.group_fillna" title="Permalink to this definition"></a></dt>
<dd><p>分组缺失值填充</p>
</dd></dl>

</section>
<section id="group-rank">
<h3>group_rank<a class="headerlink" href="#group-rank" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.group_rank">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">group_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_rank</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols_groupby</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_rank</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.group_rank" title="Permalink to this definition"></a></dt>
<dd><p>分组排序</p>
<p>对df(<cite>pandas.DataFrame</cite>)中 <code class="docutils literal notranslate"><span class="pre">cols_rank</span></code> 指定列按 <code class="docutils literal notranslate"><span class="pre">cols_groupby</span></code> 指定列分组排序</p>
<div class="admonition-todo admonition" id="id9">
<p class="admonition-title">Todo</p>
<p>col_rank可为列表，此时返回dataframe，return_all设置只返回指定列结果或者返回全部dataframe</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – 待排序数据表</p></li>
<li><p><strong>col_rank</strong> (<em>str</em>) – 需要排序的列</p></li>
<li><p><strong>cols_groupby</strong> (<em>str</em><em>, </em><em>list</em>) – 分组依据列</p></li>
<li><p><strong>**kwargs_rank</strong> – pandas中rank函数接受的参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>series_rank</strong> – 排序结果</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="get-func-df-concat">
<h3>get_func_df_concat<a class="headerlink" href="#get-func-df-concat" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_func_df_concat">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_func_df_concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_kwargs_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concat_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_func_df_concat" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">func(args, **kwargs)作用于args_kwargs_list中的参数，将所有结果concat返回</div>
<div class="line">func函数返回值必须为pd.DataFrame</div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args_kwargs_list</span> <span class="o">=</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">{</span><span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="p">{</span><span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_func_df_concat</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args_kwargs_list</span><span class="p">)</span>
<span class="go">   a</span>
<span class="go">0  1</span>
<span class="go">1  2</span>
<span class="go">2  3</span>
<span class="go">0  2</span>
<span class="go">1  3</span>
<span class="go">2  4</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="df-groupby-func">
<h3>df_groupby_func<a class="headerlink" href="#df-groupby-func" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.df_groupby_func">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">df_groupby_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reset_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'drop'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args_func</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.df_groupby_func" title="Permalink to this definition"></a></dt>
<dd><div class="admonition-todo admonition" id="id10">
<p class="admonition-title">Todo</p>
<ul class="simple">
<li><p>by_cols中有nan时的检查和处理</p></li>
<li><p>group_keys和as_index的异同检查确认</p></li>
</ul>
<div class="line-block">
<div class="line">df按by_cols分组作用于func(x, *args, **kwargs)函数</div>
<div class="line">reset_index:</div>
<div class="line-block">
<div class="line">若为drop，则重置返回的index</div>
<div class="line">若为False，则不处理groupby之后的index</div>
<div class="line">若为ori，如返回数据与原始df行数相同，则使用原始index，否则不处理groupby之后的index</div>
</div>
<div class="line">解决groupby.apply出现执行多次的问题(貌似pandas更新到1.5.0之后没出现了)，参考:</div>
<div class="line"><a class="reference external" href="http://t.zoukankan.com/wkang-p-10150401.html">http://t.zoukankan.com/wkang-p-10150401.html</a></div>
</div>
</div>
</dd></dl>

</section>
<section id="bootstrapping">
<h3>bootstrapping<a class="headerlink" href="#bootstrapping" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.bootstrapping">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">bootstrapping</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.bootstrapping" title="Permalink to this definition"></a></dt>
<dd><p>bootstraping, 待实现</p>
</dd></dl>

</section>
<section id="groupby-rolling-func">
<h3>groupby_rolling_func<a class="headerlink" href="#groupby-rolling-func" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.groupby_rolling_func">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">groupby_rolling_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols_groupby</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_rolling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.groupby_rolling_func" title="Permalink to this definition"></a></dt>
<dd><p>data按照cols_groupby分组，然后在cols_val列上rolling调用func，
func的参数通过kwargs_func设定，
若cols_val为str，则返回pd.Series；若为list，则返回pd.DataFrame
若keep_index为True，则返回结果中的index与data一样，否则返回结果中的index由
cols_groupby设定</p>
</dd></dl>

</section>
<section id="merge-dicts">
<h3>merge_dicts<a class="headerlink" href="#merge-dicts" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.merge_dicts">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">merge_dicts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dicts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.merge_dicts" title="Permalink to this definition"></a></dt>
<dd><p>将多个字典合并成一个字典</p>
</dd></dl>

</section>
<section id="link-lists">
<h3>link_lists<a class="headerlink" href="#link-lists" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.link_lists">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">link_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lists</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.link_lists" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">将多个列表连接成一个列表</div>
<div class="line">注：lists为列表，其每个元素也为一个列表</div>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">link_lists</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">])</span>
<span class="go">[1, 2, 3, 4, 5, 6, &#39;a&#39;, &#39;b&#39;, [1, 2, 3], [4, 5, 6]]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="get-lists-inter">
<h3>get_lists_inter<a class="headerlink" href="#get-lists-inter" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_lists_inter">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_lists_inter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lists</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_lists_inter" title="Permalink to this definition"></a></dt>
<dd><p>获取多个列表的交集</p>
</dd></dl>

</section>
<section id="list-eq">
<h3>list_eq<a class="headerlink" href="#list-eq" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.list_eq">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">list_eq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.list_eq" title="Permalink to this definition"></a></dt>
<dd><p>判断两个列表l1和l2是否相等，若orde为False，则只要元素相同即判断为相等</p>
</dd></dl>

</section>
<section id="get-num-decimal">
<h3>get_num_decimal<a class="headerlink" href="#get-num-decimal" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_num_decimal">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_num_decimal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_tail0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_num_decimal" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取浮点数x的小数位数</div>
<div class="line">ignore_tail0设置是否忽略小数点尾部无效的0</div>
</div>
</dd></dl>

</section>
<section id="list2dict">
<h3>list2dict<a class="headerlink" href="#list2dict" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.list2dict">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">list2dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.list2dict" title="Permalink to this definition"></a></dt>
<dd><p>两个列表生成字典</p>
</dd></dl>

</section>
<section id="sort-dict">
<h3>sort_dict<a class="headerlink" href="#sort-dict" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.sort_dict">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">sort_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'key'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.sort_dict" title="Permalink to this definition"></a></dt>
<dd><p>对字典排序，by设置依据’key’还是’value’排，reverse同sorted函数参数</p>
</dd></dl>

</section>
<section id="insert-into-list">
<h3>insert_into_list<a class="headerlink" href="#insert-into-list" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.insert_into_list">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">insert_into_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'before'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.insert_into_list" title="Permalink to this definition"></a></dt>
<dd><p>在列表l中的loc_val前或后插入val</p>
</dd></dl>

</section>
<section id="count-list">
<h3>count_list<a class="headerlink" href="#count-list" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.count_list">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">count_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.count_list" title="Permalink to this definition"></a></dt>
<dd><p>对l中的元素计数，返回dict</p>
</dd></dl>

</section>
<section id="tmprint">
<h3>tmprint<a class="headerlink" href="#tmprint" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.tmprint">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">tmprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.tmprint" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="url2chn">
<h3>url2chn<a class="headerlink" href="#url2chn" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.url2chn">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">url2chn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.url2chn" title="Permalink to this definition"></a></dt>
<dd><p>将url中的中文乱码（实际上为utf-8）转化为正常url</p>
</dd></dl>

</section>
<section id="replace-con-blank">
<h3>replace_con_blank<a class="headerlink" href="#replace-con-blank" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.replace_con_blank">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">replace_con_blank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.replace_con_blank" title="Permalink to this definition"></a></dt>
<dd><p>将string中连续空格替换为to指定字符</p>
</dd></dl>

</section>
<section id="change-dict-key">
<h3>change_dict_key<a class="headerlink" href="#change-dict-key" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.change_dict_key">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">change_dict_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_key_map</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.change_dict_key" title="Permalink to this definition"></a></dt>
<dd><p>修改字典d中的key值，即d[k]=v变成d[func_key_map(k)]=v</p>
</dd></dl>

</section>
<section id="get-func-arg-info">
<h3>get_func_arg_info<a class="headerlink" href="#get-func-arg-info" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_func_arg_info">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_func_arg_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_func_arg_info" title="Permalink to this definition"></a></dt>
<dd><p>获取函数func的参数信息</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">:</span><span class="nb">float</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">c1</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">e</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_func_arg_info</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<span class="go">{&#39;args&#39;: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;c1&#39;],</span>
<span class="go"> &#39;argdefaults&#39;: {&#39;c&#39;: 1.0, &#39;c1&#39;: 2},</span>
<span class="go"> &#39;varargs&#39;: &#39;args&#39;,</span>
<span class="go"> &#39;varkw&#39;: &#39;kwargs&#39;,</span>
<span class="go"> &#39;kwonlyargs&#39;: [&#39;e&#39;, &#39;d&#39;],</span>
<span class="go"> &#39;kwonlydefaults&#39;: {&#39;d&#39;: 2},</span>
<span class="go"> &#39;annotations&#39;: {&#39;a&#39;: int, &#39;c&#39;: float}}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="parse-args">
<h3>parse_args<a class="headerlink" href="#parse-args" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.parse_args">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">parse_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.parse_args" title="Permalink to this definition"></a></dt>
<dd><p>命令行参数解析</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>args_info</strong> (<em>list</em><em>, </em><em>dict</em>) – <div class="line-block">
<div class="line">参数信息</div>
<div class="line">若无分组，格式为:</div>
<div class="line-block">
<div class="line">[([‘-a’, ‘–arg1’, …], {‘type’: int, ‘default’: 1, …}),</div>
<div class="line-block">
<div class="line">([‘-b’, …], {…}),</div>
<div class="line">…]</div>
</div>
</div>
<div class="line">若有分组，格式为:</div>
<div class="line-block">
<div class="line">{‘groupname1’:</div>
<div class="line-block">
<div class="line-block">
<div class="line">[([‘-a’, ‘–arg1’, …], {‘type’: int, ‘default’: 1, …}),</div>
<div class="line-block">
<div class="line">([‘-b’, …], {…}),</div>
<div class="line">…],</div>
</div>
</div>
<div class="line">’groupname2’: […], …}</div>
</div>
</div>
</div>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="gen-args-praser">
<h3>gen_args_praser<a class="headerlink" href="#gen-args-praser" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.gen_args_praser">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">gen_args_praser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">native_eval_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('list',</span> <span class="pre">'tuple',</span> <span class="pre">'dict')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.gen_args_praser" title="Permalink to this definition"></a></dt>
<dd><p>生成func函数的参数解析</p>
</dd></dl>

</section>
<section id="get-topn-names">
<h3>get_topn_names<a class="headerlink" href="#get-topn-names" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_topn_names">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_topn_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_or_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'max'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_or_row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'col'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_topn_names" title="Permalink to this definition"></a></dt>
<dd><p>获取df中值最大/小的前n列/行的名称</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>     <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
<span class="gp">... </span>     <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
<span class="gp">... </span>     <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
<span class="gp">... </span>     <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">21</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">25</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">get_topn_names</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res1</span> <span class="o">=</span> <span class="n">get_topn_names</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">col_or_row</span><span class="o">=</span><span class="s1">&#39;row&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="module-dramkit.install_check">
<span id="install-check"></span><h2>install_check<a class="headerlink" href="#module-dramkit.install_check" title="Permalink to this heading"></a></h2>
<section id="id11">
<h3>install_check<a class="headerlink" href="#id11" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.install_check.install_check">
<span class="sig-prename descclassname"><span class="pre">dramkit.install_check.</span></span><span class="sig-name descname"><span class="pre">install_check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.install_check.install_check" title="Permalink to this definition"></a></dt>
<dd><p>检查是否成功安装dramkit</p>
<p>若成功安装，会打印版本号和相关提示信息</p>
</dd></dl>

</section>
</section>
<section id="module-dramkit.iotools">
<span id="iotools"></span><h2>iotools<a class="headerlink" href="#module-dramkit.iotools" title="Permalink to this heading"></a></h2>
<section id="getinputtimeouterror">
<h3>GetInputTimeoutError<a class="headerlink" href="#getinputtimeouterror" title="Permalink to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.iotools.GetInputTimeoutError">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">GetInputTimeoutError</span></span><a class="headerlink" href="#dramkit.iotools.GetInputTimeoutError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

</section>
<section id="get-input-timeout-win">
<h3>get_input_timeout_win<a class="headerlink" href="#get-input-timeout-win" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_input_timeout_win">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_input_timeout_win</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hint_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_input_timeout_win" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">windows下设置在等待时间内获取input</div>
<div class="line"><a class="reference external" href="https://pypi.org/project/inputimeout/">https://pypi.org/project/inputimeout/</a></div>
</div>
</dd></dl>

</section>
<section id="get-input-timeout-notwin">
<h3>get_input_timeout_notwin<a class="headerlink" href="#get-input-timeout-notwin" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_input_timeout_notwin">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_input_timeout_notwin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hint_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_input_timeout_notwin" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">非windows下设置在等待时间内获取input</div>
<div class="line"><a class="reference external" href="https://pypi.org/project/inputimeout/">https://pypi.org/project/inputimeout/</a></div>
</div>
</dd></dl>

</section>
<section id="get-input-timeout">
<h3>get_input_timeout<a class="headerlink" href="#get-input-timeout" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_input_timeout">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_input_timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hint_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_input_timeout" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="get-input-with-timeout">
<h3>get_input_with_timeout<a class="headerlink" href="#get-input-with-timeout" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_input_with_timeout">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_input_with_timeout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hint_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_input_with_timeout" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">通过input函数获取输入</div>
<div class="line">若等待时间超过timeout秒没接收到输入，则返回None</div>
<div class="line">hint_str为input函数提示信息</div>
<div class="line">参考：<a class="reference external" href="https://zhuanlan.zhihu.com/p/367634630">https://zhuanlan.zhihu.com/p/367634630</a></div>
</div>
</dd></dl>

</section>
<section id="get-input-multi-line">
<h3>get_input_multi_line<a class="headerlink" href="#get-input-multi-line" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_input_multi_line">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_input_multi_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">end_word</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'end'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_char</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hint_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hint_lineno</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_input_multi_line" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">input读取多行输入（包括回车换行符也会被保留）</div>
<div class="line">end_word设置结束词，当在一行里面输入完整结束词，则表示输入完毕</div>
<div class="line">注：若end_word设置为’’，则空行输入回车时会结束输入，
此时返回结果中上下行之间回车换行符不会被保留</div>
<div class="line">end_char设置结束字符串，当在一行里面任意位置输入end_char，则表示输入完毕，
此时返回在end_char之前输入的内容(不包括end_char和end_char之后的内容)</div>
<div class="line">hint_str设置input函数中的输入提示</div>
<div class="line">若hint_lineno为True，则input函数输入时提示当前是第几行</div>
<div class="line">参考：<a class="reference external" href="https://blog.csdn.net/weixin_45642669/article/details/114199303">https://blog.csdn.net/weixin_45642669/article/details/114199303</a></div>
</div>
</dd></dl>

</section>
<section id="pickle-file">
<h3>pickle_file<a class="headerlink" href="#pickle-file" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.pickle_file">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">pickle_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.pickle_file" title="Permalink to this definition"></a></dt>
<dd><p>以二进制格式保存数据data到文件file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 待保存内容</p></li>
<li><p><strong>file</strong> (<em>str</em>) – 保存路径</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="unpickle-file">
<h3>unpickle_file<a class="headerlink" href="#unpickle-file" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.unpickle_file">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">unpickle_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.unpickle_file" title="Permalink to this definition"></a></dt>
<dd><p>读取二进制格式文件file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file</strong> (<em>str</em>) – 待读取文件路径</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="load-yml">
<h3>load_yml<a class="headerlink" href="#load-yml" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_yml">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_yml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_open</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_yml" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">读取yml文件内容</div>
<div class="line">参考：</div>
<div class="line"><a class="reference external" href="https://blog.csdn.net/qq_33106045/article/details/108507775">https://blog.csdn.net/qq_33106045/article/details/108507775</a></div>
</div>
</dd></dl>

</section>
<section id="write-yml">
<h3>write_yml<a class="headerlink" href="#write-yml" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.write_yml">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">write_yml</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.write_yml" title="Permalink to this definition"></a></dt>
<dd><p>写入yml文件</p>
</dd></dl>

</section>
<section id="load-json">
<h3>load_json<a class="headerlink" href="#load-json" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_json">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_json" title="Permalink to this definition"></a></dt>
<dd><p>读取json格式文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 待读取文件路径</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 文件编码格式，若不指定，则尝试用utf-8和gbk编码读取</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em>) – 日志记录器</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>dict</cite> - 返回读取数据</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="write-json">
<h3>write_json<a class="headerlink" href="#write-json" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.write_json">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">write_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.write_json" title="Permalink to this definition"></a></dt>
<dd><p>把data写入json格式文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – 待写入数据</p></li>
<li><p><strong>fpath</strong> (<em>str</em>) – 文件保存路径</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 文件编码格式</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="read-lines">
<h3>read_lines<a class="headerlink" href="#read-lines" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.read_lines">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">read_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_open</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.read_lines" title="Permalink to this definition"></a></dt>
<dd><p>读取文本文件中的所有行</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 待读取文件路径</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 文件编码格式，若不指定，则尝试用utf-8和gbk编码读取</p></li>
<li><p><strong>logger</strong> (<em>None</em><em>, </em><em>logging.Logger</em>) – 日志记录器</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>list</cite> - 文本文件中每行内容列表</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="write-txt">
<h3>write_txt<a class="headerlink" href="#write-txt" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.write_txt">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">write_txt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.write_txt" title="Permalink to this definition"></a></dt>
<dd><p>将列表lines中的内容写入文本文件中</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lines</strong> (<em>list</em>) – 列表，每个元素为一行文本内容</p></li>
<li><p><strong>file</strong> (<em>str</em>) – 保存路径</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – 写入模式，如’w’或’a’</p></li>
<li><p><strong>check_end</strong> (<em>bool</em>) – 是否检查每行行尾换行符，默认若行尾已经有换行符，则不再新添加换行符</p></li>
<li><p><strong>**kwargs</strong> – <code class="docutils literal notranslate"><span class="pre">open</span></code> 函数接受的关键字，如encoding等</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>不同系统文本文件每行默认结尾字符不同:</p>
<blockquote>
<div><ul class="simple">
<li><p>linux下一般以`\n`结尾</p></li>
<li><p>windows下一般以`\r\n`结尾</p></li>
<li><p>苹果系统一般以`\r`结尾</p></li>
</ul>
</div></blockquote>
</div>
</dd></dl>

</section>
<section id="load-text">
<h3>load_text<a class="headerlink" href="#load-text" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_text">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">','</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_first_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_first_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_pd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_last_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_text" title="Permalink to this definition"></a></dt>
<dd><p>读取文本文件数据，要求文件中每行存放一个数据样本</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 文本文件路径</p></li>
<li><p><strong>sep</strong> (<em>str</em>) – 字段分隔符，默认`,`</p></li>
<li><p><strong>del_first_line</strong> (<em>bool</em>) – <p>是否删除首行，默认不删除</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>若del_first_line为True，则输出pandas.DataFrame没有列名</p>
</div>
</p></li>
<li><p><strong>del_first_col</strong> (<em>bool</em>) – 是否删除首列，默认不删除</p></li>
<li><p><strong>to_pd</strong> (<em>bool</em>) – 是否输出为pandas.DataFrame，默认是</p></li>
<li><p><strong>keep_header</strong> (<em>bool</em>) – 输出为pandas.DataFrame时是否以首行作为列名，默认是</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 指定编码方式，默认不指定时会尝试以uft-8和gbk编码读取</p></li>
<li><p><strong>del_last_col</strong> (<em>bool</em>) – 是否删除最后一列，默认否</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em><em>, </em><em>None</em>) – 日志记录器</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>list, pandas.DataFrame</cite> - 返回读取的数据</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="df2file-pd">
<h3>df2file_pd<a class="headerlink" href="#df2file-pd" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.df2file_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">df2file_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.df2file_pd" title="Permalink to this definition"></a></dt>
<dd><p>pandas.DataFrame写入文件</p>
</dd></dl>

</section>
<section id="process-df-pd-big">
<h3>process_df_pd_big<a class="headerlink" href="#process-df-pd-big" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.process_df_pd_big">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">process_df_pd_big</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunksize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_unname_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Logger</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.process_df_pd_big" title="Permalink to this definition"></a></dt>
<dd><p>用pandas读取大数据文件并分批处理，返回处理后的结果</p>
</dd></dl>

</section>
<section id="load-df-pd">
<h3>load_df_pd<a class="headerlink" href="#load-df-pd" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_df_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_df_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_unname_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Logger</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_df_pd" title="Permalink to this definition"></a></dt>
<dd><p>用pandas读取文件，返回DataFrame</p>
</dd></dl>

</section>
<section id="load-csv">
<h3>load_csv<a class="headerlink" href="#load-csv" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_csv">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_unname_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_csv" title="Permalink to this definition"></a></dt>
<dd><p>用pandas读取csv数据</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – csv文件路径</p></li>
<li><p><strong>del_unname_cols</strong> (<em>bool</em>) – 是否删除未命名列，默认删除</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 指定编码方式，默认不指定，不指定时会尝试以uft-8和gbk编码读取</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em><em>, </em><em>None</em>) – 日志记录器</p></li>
<li><p><strong>**kwargs</strong> – 其它 <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code> 支持的参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite> - 读取的数据</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="load-dfs-pd">
<h3>load_dfs_pd<a class="headerlink" href="#load-dfs-pd" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_dfs_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_dfs_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_drop_dup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mark_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_loaddf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_dfs_pd" title="Permalink to this definition"></a></dt>
<dd><p>读取指定路径列表中所有的dataframe数据文件，整合到一个df里面</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpaths</strong> (<em>list</em>) – 文件夹路径列表</p></li>
<li><p><strong>kwargs_sort</strong> (<em>dict</em>) – 设置sort_values接受的排序参数</p></li>
<li><p><strong>kwargs_drop_dup</strong> (<em>dict</em>) – 设置drop_duplicates接受的去重参数</p></li>
<li><p><strong>**kwargs_loaddf</strong> – <a class="reference internal" href="#dramkit.iotools.load_df_pd" title="dramkit.iotools.load_df_pd"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.iotools.load_df_pd()</span></code></a> 接受的其它参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite> - 读取的数据</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="load-csvs">
<h3>load_csvs<a class="headerlink" href="#load-csvs" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_csvs">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_csvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_drop_dup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_loadcsv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_csvs" title="Permalink to this definition"></a></dt>
<dd><p>读取指定路径列表中所有的csv文件，整合到一个df里面</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpaths</strong> (<em>list</em>) – 文件夹路径列表</p></li>
<li><p><strong>kwargs_sort</strong> (<em>dict</em>) – 设置sort_values接受的排序参数</p></li>
<li><p><strong>kwargs_drop_dup</strong> (<em>dict</em>) – 设置drop_duplicates接受的去重参数</p></li>
<li><p><strong>**kwargs_loadcsv</strong> – <a class="reference internal" href="#dramkit.iotools.load_dfs_pd" title="dramkit.iotools.load_dfs_pd"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.iotools.load_dfs_pd()</span></code></a> 接受的其它参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite> - 读取的数据</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="load-csvs-dir">
<h3>load_csvs_dir<a class="headerlink" href="#load-csvs-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_csvs_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_csvs_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_drop_dup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_loadcsv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_csvs_dir" title="Permalink to this definition"></a></dt>
<dd><p>读取指定文件夹中所有的csv文件，整合到一个df里面</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdir</strong> (<em>str</em>) – 文件夹路径</p></li>
<li><p><strong>kwargs_sort</strong> (<em>dict</em>) – 设置sort_values接受的排序参数</p></li>
<li><p><strong>kwargs_drop_dup</strong> (<em>dict</em>) – 设置drop_duplicates接受的去重参数</p></li>
<li><p><strong>**kwargs_loadcsv</strong> – <a class="reference internal" href="#dramkit.iotools.load_dfs_pd" title="dramkit.iotools.load_dfs_pd"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.iotools.load_dfs_pd()</span></code></a> 接受的其它参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite> - 读取的数据</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="load-excels">
<h3>load_excels<a class="headerlink" href="#load-excels" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_excels">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_excels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fdirorfpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_drop_dup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_readexcel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_excels" title="Permalink to this definition"></a></dt>
<dd><p>读取指定文件夹中所有的excel文件，整合到一个df里面</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdirorfpaths</strong> (<em>str</em><em>, </em><em>list</em>) – Excel文件所在文件夹路径或Excel文件路径列表</p></li>
<li><p><strong>kwargs_sort</strong> (<em>dict</em>) – 设置sort_values接受的排序参数</p></li>
<li><p><strong>kwargs_drop_dup</strong> (<em>dict</em>) – 设置drop_duplicates接受的去重参数</p></li>
<li><p><strong>**kwargs_readexcel</strong> – <code class="docutils literal notranslate"><span class="pre">dramkit.iotools.load_dfs_pd</span></code> 接受的其它参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite> - 读取的数据</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="archive-df">
<h3>archive_df<a class="headerlink" href="#archive-df" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.archive_df">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">archive_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idcols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_dup_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep_keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'new'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascendings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_ftype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_read_old</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_read_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_save</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'index':</span> <span class="pre">None}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'merge'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.archive_df" title="Permalink to this definition"></a></dt>
<dd><p>合并df_new和df_old，再排序、去重、写入csv或excel</p>
</dd></dl>

</section>
<section id="add-ext-to-filename">
<h3>add_ext_to_filename<a class="headerlink" href="#add-ext-to-filename" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.add_ext_to_filename">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">add_ext_to_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.add_ext_to_filename" title="Permalink to this definition"></a></dt>
<dd><p>在fpath路径的尾部（扩展名的前面）添加尾缀ext</p>
</dd></dl>

</section>
<section id="cut-dffile-by-maxline">
<h3>cut_dffile_by_maxline<a class="headerlink" href="#cut-dffile-by-maxline" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.cut_dffile_by_maxline">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">cut_dffile_by_maxline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_loaddf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_tofile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'index':</span> <span class="pre">None}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.cut_dffile_by_maxline" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="get-fpath-ext-num">
<h3>get_fpath_ext_num<a class="headerlink" href="#get-fpath-ext-num" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_fpath_ext_num">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_fpath_ext_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_fpath_ext_num" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">给定路径fpath，若不存在，则返回fpath，若存在则返回带数字在后缀的路径</div>
<div class="line">比如fpath=xxx.y存在，则返回xxx_1.y，xxx_1.y也存在，则返回xxx_2.y</div>
</div>
</dd></dl>

</section>
<section id="cut-bigdffile-by-maxline">
<h3>cut_bigdffile_by_maxline<a class="headerlink" href="#cut-bigdffile-by-maxline" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.cut_bigdffile_by_maxline">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">cut_bigdffile_by_maxline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_loaddf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_tofile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'index':</span> <span class="pre">None}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.cut_bigdffile_by_maxline" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="cut-dffile-by-year">
<h3>cut_dffile_by_year<a class="headerlink" href="#cut-dffile-by-year" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.cut_dffile_by_year">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">cut_dffile_by_year</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tcol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_last_year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_loaddf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_tofile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'index':</span> <span class="pre">None}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_exists_merge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.cut_dffile_by_year" title="Permalink to this definition"></a></dt>
<dd><p>dataframe大文件分割，按年份，tcol指定时间列</p>
<div class="admonition-todo admonition" id="id12">
<p class="admonition-title">Todo</p>
<p>指定几年的合并为一个文件，而不是固定每一年单独一个文件</p>
</div>
</dd></dl>

</section>
<section id="cut-csv-by-year">
<h3>cut_csv_by_year<a class="headerlink" href="#cut-csv-by-year" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.cut_csv_by_year">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">cut_csv_by_year</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tcol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_last_year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_loadcsv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_tocsv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'index':</span> <span class="pre">None}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.cut_csv_by_year" title="Permalink to this definition"></a></dt>
<dd><p>csv大文件分割，按年份，tcol指定时间列</p>
</dd></dl>

</section>
<section id="clear-text-file">
<h3>clear_text_file<a class="headerlink" href="#clear-text-file" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.clear_text_file">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">clear_text_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.clear_text_file" title="Permalink to this definition"></a></dt>
<dd><p>清空文本文件中的内容，保留文件</p>
</dd></dl>

</section>
<section id="clear-specified-type-files">
<h3>clear_specified_type_files<a class="headerlink" href="#clear-specified-type-files" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.clear_specified_type_files">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">clear_specified_type_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_getpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.clear_specified_type_files" title="Permalink to this definition"></a></dt>
<dd><p>清空dir_path文件夹下所有类型在type_list中的文件内容，保留文件夹</p>
</dd></dl>

</section>
<section id="get-all-paths">
<h3>get_all_paths<a class="headerlink" href="#get-all-paths" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_all_paths">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_all_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_all_paths" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>获取指定文件夹(及其子文件夹)中所有的文件路径</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_path</strong> (<em>str</em>) – 文件夹路径</p></li>
<li><p><strong>ext</strong> (<em>None</em><em>, </em><em>str</em><em>, </em><em>list</em><em>, </em><em>tuple</em>) – 指定文件后缀列表，若为None，则包含所有类型文件</p></li>
<li><p><strong>start</strong> (<em>None</em><em>, </em><em>str</em><em>, </em><em>list</em><em>, </em><em>tuple</em>) – 指定文件前缀名列表，若为None，则包含所有类型文件</p></li>
<li><p><strong>include_dir</strong> (<em>bool</em>) – 返回结果中是否包含文件夹路径（包含返回文件路径的文件夹），默认不包含（即只返回文件路径）</p></li>
<li><p><strong>abspath</strong> (<em>bool</em>) – 是否返回绝对路径，默认返回相对路径</p></li>
<li><p><strong>rec_sub_dir</strong> (<em>bool</em>) – 若为False，则不对子文件中的文件进行遍历，即只返回dir_path下的文件（夹）路径</p></li>
<li><p><strong>only_dir</strong> (<em>bool</em>) – 若为True，则只返回子文件夹路径(文件夹名称尾部与ext指定尾部相同的文件夹)，
不返回文件路径，此时include_dir不起作用</p></li>
<li><p><strong>name_func</strong> (<em>function</em>) – 判断是否符合文件名筛选的函数，即满足name_func(fpath)值为True的路径被保留，
name_func参数为路径，返回结果只能为True或False</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>list</cite> - 文件路径列表</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="del-specified-type-files">
<h3>del_specified_type_files<a class="headerlink" href="#del-specified-type-files" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.del_specified_type_files">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">del_specified_type_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_getpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.del_specified_type_files" title="Permalink to this definition"></a></dt>
<dd><p>删除dir_path文件夹下所有类型在type_list中的文件</p>
</dd></dl>

</section>
<section id="del-dir">
<h3>del_dir<a class="headerlink" href="#del-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.del_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">del_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.del_dir" title="Permalink to this definition"></a></dt>
<dd><p>删除dir_path指定文件夹及其所有内容</p>
</dd></dl>

</section>
<section id="del-specified-subdir">
<h3>del_specified_subdir<a class="headerlink" href="#del-specified-subdir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.del_specified_subdir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">del_specified_subdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_getpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.del_specified_subdir" title="Permalink to this definition"></a></dt>
<dd><p>删除dir_path文件夹下所有文件夹名尾缀在del_names中的子文件夹</p>
</dd></dl>

</section>
<section id="copy-file-to-dir">
<h3>copy_file_to_dir<a class="headerlink" href="#copy-file-to-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.copy_file_to_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">copy_file_to_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgt_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.copy_file_to_dir" title="Permalink to this definition"></a></dt>
<dd><p>复制文件</p>
</dd></dl>

</section>
<section id="copy-file-to-file">
<h3>copy_file_to_file<a class="headerlink" href="#copy-file-to-file" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.copy_file_to_file">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">copy_file_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgt_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.copy_file_to_file" title="Permalink to this definition"></a></dt>
<dd><p>文件复制（指定文件名）</p>
</dd></dl>

</section>
<section id="copy-dir-structure">
<h3>copy_dir_structure<a class="headerlink" href="#copy-dir-structure" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.copy_dir_structure">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">copy_dir_structure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgt_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_root_same</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_getpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.copy_dir_structure" title="Permalink to this definition"></a></dt>
<dd><p>复制文件夹结构，不复制里面的文件</p>
</dd></dl>

</section>
<section id="copy-dir">
<h3>copy_dir<a class="headerlink" href="#copy-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.copy_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">copy_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgt_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_root_same</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_empty_dir_when_not_recu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_getpath_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_getpath_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.copy_dir" title="Permalink to this definition"></a></dt>
<dd><p>复制整个文件夹及其内容</p>
</dd></dl>

</section>
<section id="move-file-to-file">
<h3>move_file_to_file<a class="headerlink" href="#move-file-to-file" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.move_file_to_file">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">move_file_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgt_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.move_file_to_file" title="Permalink to this definition"></a></dt>
<dd><p>移动文件（指定文件名）</p>
</dd></dl>

</section>
<section id="move-file-to-dir">
<h3>move_file_to_dir<a class="headerlink" href="#move-file-to-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.move_file_to_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">move_file_to_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgt_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.move_file_to_dir" title="Permalink to this definition"></a></dt>
<dd><p>移动文件</p>
</dd></dl>

</section>
<section id="move-dir">
<h3>move_dir<a class="headerlink" href="#move-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.move_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">move_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tgt_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_root_same</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_empty_dir_when_not_recu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_getpath_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_getpath_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.move_dir" title="Permalink to this definition"></a></dt>
<dd><p>移动整个文件夹及其内容</p>
</dd></dl>

</section>
<section id="move-specified-type-files">
<h3>move_specified_type_files<a class="headerlink" href="#move-specified-type-files" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.move_specified_type_files">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">move_specified_type_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.move_specified_type_files" title="Permalink to this definition"></a></dt>
<dd><p>移动dir_path文件夹下所有类型在type_list中的文件到target_dir中</p>
</dd></dl>

</section>
<section id="make-dir">
<h3>make_dir<a class="headerlink" href="#make-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.make_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">make_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.make_dir" title="Permalink to this definition"></a></dt>
<dd><p>新建文件夹</p>
</dd></dl>

</section>
<section id="make-file-dir">
<h3>make_file_dir<a class="headerlink" href="#make-file-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.make_file_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">make_file_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.make_file_dir" title="Permalink to this definition"></a></dt>
<dd><p>若路径fpath所指文件夹不存在，创建之</p>
</dd></dl>

</section>
<section id="make-path-dir">
<h3>make_path_dir<a class="headerlink" href="#make-path-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.make_path_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">make_path_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.make_path_dir" title="Permalink to this definition"></a></dt>
<dd><p>若fpath所指文件夹路径不存在，则新建之</p>
</dd></dl>

</section>
<section id="get-last-change-time">
<h3>get_last_change_time<a class="headerlink" href="#get-last-change-time" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_last_change_time">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_last_change_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y-%m-%d</span> <span class="pre">%H:%M:%S'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_last_change_time" title="Permalink to this definition"></a></dt>
<dd><p>获取文件的最后修改时间</p>
</dd></dl>

</section>
<section id="get-file-info">
<h3>get_file_info<a class="headerlink" href="#get-file-info" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_file_info">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_file_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_file_info" title="Permalink to this definition"></a></dt>
<dd><p>获取文件信息</p>
</dd></dl>

</section>
<section id="get-files-info">
<h3>get_files_info<a class="headerlink" href="#get-files-info" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_files_info">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_files_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_files_info" title="Permalink to this definition"></a></dt>
<dd><p>获取列表中的文件信息</p>
</dd></dl>

</section>
<section id="get-files-info-dir">
<h3>get_files_info_dir<a class="headerlink" href="#get-files-info-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_files_info_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_files_info_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_getpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_files_info_dir" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取dir_path文件夹中所有文件的信息</div>
<div class="line">**kwargs为 <code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.iotoos.get_all_paths()</span></code> 接受的参数</div>
</div>
</dd></dl>

</section>
<section id="py2pyc">
<h3>py2pyc<a class="headerlink" href="#py2pyc" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.py2pyc">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">py2pyc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">py_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyc_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_py</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_compile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.py2pyc" title="Permalink to this definition"></a></dt>
<dd><p>py文件编译为pyc文件</p>
</dd></dl>

</section>
<section id="py2pyc-dir">
<h3>py2pyc_dir<a class="headerlink" href="#py2pyc-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.py2pyc_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">py2pyc_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_py</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_compile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_getpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.py2pyc_dir" title="Permalink to this definition"></a></dt>
<dd><p>将一个文件夹下的所有.py文件编译为.pyc文件</p>
</dd></dl>

</section>
<section id="pyc2py">
<h3>pyc2py<a class="headerlink" href="#pyc2py" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.pyc2py">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">pyc2py</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pyc_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">py_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_pyc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.pyc2py" title="Permalink to this definition"></a></dt>
<dd><p>pyc文件反编译为py</p>
</dd></dl>

</section>
<section id="pyc2py-dir">
<h3>pyc2py_dir<a class="headerlink" href="#pyc2py-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.pyc2py_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">pyc2py_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_pyc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recu_sub_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_getpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.pyc2py_dir" title="Permalink to this definition"></a></dt>
<dd><p>将一个文件夹下的所有.pyc文件反编译为.py文件</p>
</dd></dl>

</section>
<section id="get-mac-address">
<h3>get_mac_address<a class="headerlink" href="#get-mac-address" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_mac_address">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_mac_address</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_mac_address" title="Permalink to this definition"></a></dt>
<dd><p>获取Mac地址，返回大写地址，如：F8-A2-D6-CC-BB-AA</p>
</dd></dl>

</section>
<section id="get-ipconfig-all-win">
<h3>get_ipconfig_all_win<a class="headerlink" href="#get-ipconfig-all-win" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_ipconfig_all_win">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_ipconfig_all_win</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_ipconfig_all_win" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="get-ipconfig-win">
<h3>get_ipconfig_win<a class="headerlink" href="#get-ipconfig-win" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_ipconfig_win">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_ipconfig_win</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_ipconfig_win" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="get-hardware-ids">
<h3>get_hardware_ids<a class="headerlink" href="#get-hardware-ids" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_hardware_ids">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_hardware_ids</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_hardware_ids" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取电脑硬件序列号信息，包括主板和硬盘序列号、MAC地址、BIOS序列号等</div>
<div class="line">参考：<a class="reference external" href="https://blog.csdn.net/lekmoon/article/details/111478394">https://blog.csdn.net/lekmoon/article/details/111478394</a></div>
</div>
</dd></dl>

</section>
<section id="get-ip1">
<h3>get_ip1<a class="headerlink" href="#get-ip1" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_ip1">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_ip1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_ip1" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取ip地址</div>
<div class="line">参考：<a class="reference external" href="https://blog.csdn.net/hemadaili/article/details/89555681">https://blog.csdn.net/hemadaili/article/details/89555681</a></div>
</div>
</dd></dl>

</section>
<section id="get-ip2">
<h3>get_ip2<a class="headerlink" href="#get-ip2" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_ip2">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_ip2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_ip2" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">查询ip地址</div>
<div class="line">参考：<a class="reference external" href="https://blog.csdn.net/qq_36530891/article/details/102725580">https://blog.csdn.net/qq_36530891/article/details/102725580</a></div>
</div>
</dd></dl>

</section>
<section id="get-ip-public">
<h3>get_ip_public<a class="headerlink" href="#get-ip-public" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_ip_public">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_ip_public</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_ip_public" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取公网ip</div>
<div class="line">参考：<a class="reference external" href="https://zhuanlan.zhihu.com/p/262185582">https://zhuanlan.zhihu.com/p/262185582</a></div>
</div>
</dd></dl>

</section>
<section id="get-ip-public2">
<h3>get_ip_public2<a class="headerlink" href="#get-ip-public2" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_ip_public2">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_ip_public2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_ip_public2" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取公网ip</div>
<div class="line"><a class="reference external" href="https://blog.csdn.net/qq_39147299/article/details/122469840">https://blog.csdn.net/qq_39147299/article/details/122469840</a></div>
</div>
</dd></dl>

</section>
<section id="get-tasks-info-win">
<h3>get_tasks_info_win<a class="headerlink" href="#get-tasks-info-win" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_tasks_info_win">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_tasks_info_win</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_tasks_info_win" title="Permalink to this definition"></a></dt>
<dd><p>windows下获取任务信息</p>
</dd></dl>

</section>
<section id="get-ports-info-win">
<h3>get_ports_info_win<a class="headerlink" href="#get-ports-info-win" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_ports_info_win">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_ports_info_win</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_ports_info_win" title="Permalink to this definition"></a></dt>
<dd><p>windows下获取端口信息</p>
</dd></dl>

</section>
<section id="zip-files">
<h3>zip_files<a class="headerlink" href="#zip-files" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_files">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_ori_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_zip_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_files" title="Permalink to this definition"></a></dt>
<dd><p>使用zipfile将指定路径列表(不包括子文件(夹)内容)打包为.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zip_path</strong> (<em>str</em>) – zip压缩包保存路径</p></li>
<li><p><strong>fpaths</strong> (<em>list</em>) – 需要压缩的路径列表(应为相对路径)</p></li>
<li><p><strong>keep_ori_path</strong> (<em>bool</em>) – <ul>
<li><p>若为True, 则压缩文件会保留fpaths中文件的原始路径</p></li>
<li><p>若为False, 则fpaths中所有文件在压缩文件中都在统一根目录下</p></li>
</ul>
</p></li>
<li><p><strong>keep_zip_new</strong> (<em>bool</em>) – 若为True，将覆盖已有压缩文件，否则在已有文件里面新增</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="zip-fpath">
<h3>zip_fpath<a class="headerlink" href="#zip-fpath" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_fpath">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_zip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_getpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_fpath" title="Permalink to this definition"></a></dt>
<dd><p>使用zipfile压缩单个文件(夹)下所有内容为.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 待压缩文件(夹)路径(应为相对路径)</p></li>
<li><p><strong>zip_path</strong> (<em>None</em><em>, </em><em>str</em>) – 压缩文件保存路径，若为None，则为fpath路径加后缀</p></li>
<li><p><strong>**kwargs_zip</strong> – <a class="reference internal" href="#dramkit.iotools.zip_files" title="dramkit.iotools.zip_files"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.iotools.zip_files()</span></code></a> 接受的参数</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="zip-fpaths">
<h3>zip_fpaths<a class="headerlink" href="#zip-fpaths" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_fpaths">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_fpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_zip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_getpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_fpaths" title="Permalink to this definition"></a></dt>
<dd><p>使用zipfile将指定路径列表(包括子文件(夹)所有内容)打包为.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zip_path</strong> (<em>str</em>) – zip压缩包保存路径</p></li>
<li><p><strong>fpaths</strong> (<em>list</em>) – 需要压缩的路径列表(可为文件也可为文件夹, 应为相对路径)</p></li>
<li><p><strong>**kwargs_zip</strong> – <a class="reference internal" href="#dramkit.iotools.zip_files" title="dramkit.iotools.zip_files"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.iotools.zip_files()</span></code></a> 接受的参数</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="zip-extract">
<h3>zip_extract<a class="headerlink" href="#zip-extract" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_extract">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fzip</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_extract" title="Permalink to this definition"></a></dt>
<dd><p>用zipfile解压文件</p>
</dd></dl>

</section>
<section id="zip-fpath-7z">
<h3>zip_fpath_7z<a class="headerlink" href="#zip-fpath-7z" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_fpath_7z">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_fpath_7z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_zip_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_fpath_7z" title="Permalink to this definition"></a></dt>
<dd><p>7z命令压缩单个文件(夹)到.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 待压缩文件(夹)路径</p></li>
<li><p><strong>zip_path</strong> (<em>None</em><em>, </em><em>str</em>) – 压缩文件保存路径，若为None，则为fpath路径加后缀</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – 压缩文件后缀，可选[‘7z’, ‘zip’]</p></li>
<li><p><strong>pwd</strong> (<em>str</em>) – 密码字符串</p></li>
<li><p><strong>keep_zip_new</strong> (<em>bool</em>) – <ul>
<li><p>若为True，则zip_path将覆盖原来已经存在的文件</p></li>
<li><p>若为False，则zip_path将在原来已有的文件中新增需要压缩的文件</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="zip-fpaths-7z">
<h3>zip_fpaths_7z<a class="headerlink" href="#zip-fpaths-7z" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_fpaths_7z">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_fpaths_7z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_zip_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_fpaths_7z" title="Permalink to this definition"></a></dt>
<dd><p>7z命令压缩多个文件(夹)列表到.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zip_path</strong> (<em>str</em>) – zip压缩包保存路径</p></li>
<li><p><strong>fpaths</strong> (<em>list</em>) – <p>待压缩文件(夹)路径列表</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>fpaths太长的时候可能会报错</p>
</div>
</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – 压缩文件后缀，可选[‘7z’, ‘zip’]</p></li>
<li><p><strong>pwd</strong> (<em>str</em>) – 密码字符串</p></li>
<li><p><strong>keep_zip_new</strong> (<em>bool</em>) – <ul>
<li><p>若为True，则zip_path将覆盖原来已经存在的文件</p></li>
<li><p>若为False，则zip_path将在原来已有的文件中新增需要压缩的文件</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="extract-7z">
<h3>extract_7z<a class="headerlink" href="#extract-7z" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.extract_7z">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">extract_7z</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.extract_7z" title="Permalink to this definition"></a></dt>
<dd><p>7z命令解压文件</p>
</dd></dl>

</section>
<section id="cmdrun">
<h3>cmdrun<a class="headerlink" href="#cmdrun" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.cmdrun">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">cmdrun</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.cmdrun" title="Permalink to this definition"></a></dt>
<dd><p>调用cmd执行cmd_str命令</p>
</dd></dl>

</section>
<section id="cmdruns-multi-process">
<h3>cmdruns_multi_process<a class="headerlink" href="#cmdruns-multi-process" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.cmdruns_multi_process">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">cmdruns_multi_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_str_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.cmdruns_multi_process" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="cmd-run-pys-multi-process">
<h3>cmd_run_pys_multi_process<a class="headerlink" href="#cmd-run-pys-multi-process" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.cmd_run_pys_multi_process">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">cmd_run_pys_multi_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">py_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.cmd_run_pys_multi_process" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="cmd-run-pys">
<h3>cmd_run_pys<a class="headerlink" href="#cmd-run-pys" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.cmd_run_pys">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">cmd_run_pys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">py_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.cmd_run_pys" title="Permalink to this definition"></a></dt>
<dd><p>cmd命令批量运行py脚本，logger捕捉日志</p>
</dd></dl>

</section>
<section id="rename-files-in-dir">
<h3>rename_files_in_dir<a class="headerlink" href="#rename-files-in-dir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.rename_files_in_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">rename_files_in_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_rename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.rename_files_in_dir" title="Permalink to this definition"></a></dt>
<dd><p>对指定文件夹中的文件进行批量重命名</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_path</strong> (<em>str</em>) – 目标文件夹</p></li>
<li><p><strong>func_rename</strong> (<em>function</em>) – 命名规则函数: name_new = func_rename(name)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="find-files-include-str">
<h3>find_files_include_str<a class="headerlink" href="#find-files-include-str" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.find_files_include_str">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">find_files_include_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">re_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all_find</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.find_files_include_str" title="Permalink to this definition"></a></dt>
<dd><p>在指定文件路径列表中，查找哪些文件里面包含了目标字符串</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_str</strong> (<em>str</em>) – 目标字符串</p></li>
<li><p><strong>fpaths</strong> (<em>str</em><em>, </em><em>list</em>) – 文件路径列表</p></li>
<li><p><strong>re_match</strong> (<em>bool</em>) – 若为True，则目标字符串 <code class="docutils literal notranslate"><span class="pre">target_str</span></code> 按正则表达式处理</p></li>
<li><p><strong>return_all_find</strong> (<em>bool</em>) – 若为True，则返回所有找到的目标字符串，否则只返回第一个</p></li>
<li><p><strong>logger</strong> (<em>None</em><em>, </em><em>logging.Logger</em>) – 日志记录器</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>dict</cite> - 返回dict, key为找到的文件路径，value为包含目标字符串的文本内容(仅第一次出现的位置)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="find-dir-include-str">
<h3>find_dir_include_str<a class="headerlink" href="#find-dir-include-str" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.find_dir_include_str">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">find_dir_include_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">re_match</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_all_find</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_getpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.find_dir_include_str" title="Permalink to this definition"></a></dt>
<dd><p>在指定目录下的文件中，查找哪些文件里面包含了目标字符串</p>
<div class="admonition-todo admonition" id="id13">
<p class="admonition-title">Todo</p>
<p>增加排除文件类型设置</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_str</strong> (<em>str</em>) – 目标字符串</p></li>
<li><p><strong>root_dir</strong> (<em>str</em><em>, </em><em>None</em>) – 目标文件夹，目标字符串在此文件夹及其所有子文件内所有文本文件中搜索
若为None，则在os.getcwd()下搜索</p></li>
<li><p><strong>file_types</strong> (<em>None</em><em>, </em><em>str</em><em>, </em><em>list</em>) – <p>指定查找的文件后缀范围:</p>
<ul>
<li><p>None, 在所有文件中查找</p></li>
<li><p>str, 指定一类文件后缀, 如’.py’表示在Python脚本中查找</p></li>
<li><p>list, 指定一个后缀列表, 如[‘.py’, ‘.txt’]</p></li>
</ul>
</p></li>
<li><p><strong>re_match</strong> (<em>bool</em>) – 若为True，则目标字符串 <code class="docutils literal notranslate"><span class="pre">target_str</span></code> 按正则表达式处理</p></li>
<li><p><strong>return_all_find</strong> (<em>bool</em>) – 若为True，则返回所有找到的目标字符串，否则只返回第一个</p></li>
<li><p><strong>logger</strong> (<em>None</em><em>, </em><em>logging.Logger</em>) – 日志记录器</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>dict</cite> - 返回dict, key为找到的文件路径，value为包含目标字符串的文本内容(仅第一次出现的位置)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="replace-str-in-file">
<h3>replace_str_in_file<a class="headerlink" href="#replace-str-in-file" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.replace_str_in_file">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">replace_str_in_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ori_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_read</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_write</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.replace_str_in_file" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">替换文本文件fpath中的ori_str为new_str</div>
<div class="line">fpath_new指定新文件路径</div>
<div class="line">若fpath_new为None，则新文件在原文件名加后缀_new</div>
<div class="line">若fpath_new为’replace’，则新文件替换原文件</div>
<div class="line">若fpath_new是函数，则新文件璐姐为fpath_new(fpath)</div>
<div class="line">kwargs_read为read_lines函数接收参数</div>
<div class="line">keargs_write为write_txt函数接收参数</div>
</div>
</dd></dl>

</section>
<section id="replace-str-in-files">
<h3>replace_str_in_files<a class="headerlink" href="#replace-str-in-files" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.replace_str_in_files">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">replace_str_in_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ori_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_read</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_write</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.replace_str_in_files" title="Permalink to this definition"></a></dt>
<dd><p>文本文件内容批量替换，参数见 <a class="reference internal" href="#dramkit.iotools.replace_str_in_file" title="dramkit.iotools.replace_str_in_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_str_in_file()</span></code></a></p>
</dd></dl>

</section>
<section id="get-pip-pkgs-win-deprecated">
<h3>get_pip_pkgs_win_deprecated<a class="headerlink" href="#get-pip-pkgs-win-deprecated" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_pip_pkgs_win_deprecated">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_pip_pkgs_win_deprecated</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_pip_pkgs_win_deprecated" title="Permalink to this definition"></a></dt>
<dd><p>获取windows下pip安装包列表</p>
</dd></dl>

</section>
<section id="get-pip-pkgs-win">
<h3>get_pip_pkgs_win<a class="headerlink" href="#get-pip-pkgs-win" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_pip_pkgs_win">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_pip_pkgs_win</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_pip_pkgs_win" title="Permalink to this definition"></a></dt>
<dd><p>获取windows下pip安装包列表</p>
</dd></dl>

</section>
<section id="get-filedir">
<h3>get_filedir<a class="headerlink" href="#get-filedir" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_filedir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_filedir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_filedir" title="Permalink to this definition"></a></dt>
<dd><p>获取fpath路径所在文件夹路径</p>
</dd></dl>

</section>
<section id="get-filename">
<h3>get_filename<a class="headerlink" href="#get-filename" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_filename">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_filename" title="Permalink to this definition"></a></dt>
<dd><p>获取文件名（去除前缀路径），with_ext为False则返回不带后缀</p>
</dd></dl>

</section>
<section id="get-file-ext-type">
<h3>get_file_ext_type<a class="headerlink" href="#get-file-ext-type" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_file_ext_type">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_file_ext_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_file_ext_type" title="Permalink to this definition"></a></dt>
<dd><p>提取文件扩展名</p>
</dd></dl>

</section>
<section id="get-parent-path">
<h3>get_parent_path<a class="headerlink" href="#get-parent-path" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_parent_path">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_parent_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_parent_path" title="Permalink to this definition"></a></dt>
<dd><p>获取路径path的n级父路径</p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to DramKit’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dramkit.backpacks.html" class="btn btn-neutral float-right" title="backpacks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2023, YueYong Hu.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>